[{"title":"配置 WSL 开发 Flet 应用","path":"/posts/59012193/","content":"安装 GStreamer 库在 Linux 中运行 Flet 应用需要安装 GStreamer 库 12sudo apt updatesudo apt-get install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libgstreamer-plugins-bad1.0-dev gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav gstreamer1.0-tools gstreamer1.0-x gstreamer1.0-alsa gstreamer1.0-gl gstreamer1.0-gtk3 gstreamer1.0-qt5 gstreamer1.0-pulseaudio 有关在 Linux 安装 GStreamer 的详细信息，参阅本指南 安装 WSLg WSLg 仅在 WSL2 下运行 打开终端（管理员），键入 12wsl --shutdownwsl --update 之后，你可以在开始菜单中找到一个图标 注意若提示 0x80240438，请检查是否关闭代理 配置 WSL首先检查当前 DISPLAY 值是否为:0 1echo $DISPLAY 若不为:0, 打开你的 shell 配置文件，如.bashrc、.zshrc, 加入下面这一行 1export DISPLAY=:0","tags":["Python","WSL2"],"categories":["教程"]},{"title":"Volantis 如何在主页添加卡片","path":"/posts/71314686/","content":"前言简单记录一下如何在 Volantis 主题的主页添加下面这种样子的卡片。 修改主题配置找到主题配置文件 文章布局(article) 部分，我们要修改 preview 里面的相关配置。 关闭自动生成 title: auto_title: false 关闭自动生成摘要: auto_excerpt: false 关闭作者显示: author: false 阅读更多按钮显示规则改为自动: readmore: auto 关闭置顶图标显示（把默认那个图标注释掉就可以）: pin_icon: 修改页面 front-matter在需要将其放至首页顶部的页面的 front-matter 中配置。 使用 seo_title 而不是 title 置顶该页面: pin: true 拒绝蜘蛛爬取（避免影响权重）: robots: noindex,nofollow 关闭评论（有没有其实都一样，反正别人不知道怎么打开你这个页面）: comment: false 这个页面应该为一个 page 而不是 post: layout: page 接下来自由发挥 小技巧如果想要文章页面的卡片也不显示阅读更多，可以在文章的 front-matter 中配置 readmore: false。 完结撒花🎈好耶~又水了一篇😝","tags":["Hexo","Volantis"],"categories":["教程"]},{"title":"ping 每隔几秒出现一次延迟特别大的解决方法","path":"/posts/3d50f4a2/","content":"最近一段时间因为这个问题，在 Windows 使用 Remote SSH 连接远程主机写东西总会间隔性卡顿，现记录下解决方法。 解决方法在 服务 中找到 WLAN AutoConfig, 并重新启动它","tags":["Windows"],"categories":["教程"]},{"title":"Windows 使用技巧之我见","path":"/posts/90c4210a/","content":"说明这里以 Windows 11 为例，从一台全新的机器系统开始讲解 磁盘分区现在学生党的计算机存储配置一般都为 512G 固态 、 128G &#x2F; 256G &#x2F; 512G 固态 + 1TB 机械 等。但不管怎么说，都一定会有最小 128GB 固态的存在。 因此个人建议: 当固态硬盘为 512GB 及以下时，不对其进行分区，而是全部用来做系统盘。 当固态硬盘为 512GB 以上时，可以选择分出 512GB 来作为系统盘，剩下的根据自己的一个需求再进行分区。 系统配置此处假设你有一个全新的系统，并且已经初始化，登录账号成功进入桌面。 修改默认库保存位置之所以把它放在第一步，是因为避免后面的操作对默认目录进行了写操作，从而增加迁移的成本。 打开资源管理器，对上面框住的五个库依次打开属性对话框，把位置的盘符改成E，保存便好。 至于为什么不修改桌面库的位置，真的没必要啊喂 修改新内容默认保存位置这个在设置中，打开设置，找到下图的位置，并参照着修改。这里的应用存放目录设置仅仅是 Windows 应用商店中下载的应用保存位置。在其他来源下载的应用程序大部分还是需要自己修改到D盘正确的目录。 配置输入法Windows 安装完成后，默认输入法为拼音输入法，我个人喜欢将默认输入法改为 英语（美国），避免一些不必要的麻烦。中文输入法打游戏？ 若没有在这里找到 美式键盘 ，则需要在 语言和区域 中添加这个语言。至于为什么是 美式键盘？它的按键排列方式应该是你熟悉的 应用安装应用下载请一定要去应用官网下载！！！ 如何判断它是真正的官网呢一般以主域名判断，例如腾讯旗下的大部分应用程序都是 xxx.qq.com，当然也是有例外，比如微信是腾讯旗下的，但它的域名为 weixin.com。凭借网页UI判断，基本上下载站都是以 程序简要描述;程序主要描述;程序下载按钮组成，其最为标志性的一个东西就是 xx下载器。p2p下载器有多少人被它坑过呢经验找不到怎么办啊喂也许你需要一个好的搜索引擎 一点点常用的应用软件官网应用程序官网地址QQhttps://im.qq.com/微信https://weixin.com网易云音乐https://music.163.com/#/downloadQQ音乐https://y.qq.com/download/index.html 搜索引擎鉴于国内搜索引擎的现状，推荐使用 必应 搜索引擎进行网页检索 应用安装终于可以安装应用了，我从官网下载的应用程序总可以放心懒人式一键安装了吧 虽然说现如今的应用程序基本上没有捆绑安装了，但也难免会有例外。现在剩下的带有捆绑安装的应用程序一般都在安装开始之前或完成之后，会有一些默认勾选的复选框期待着你的粗心大意。下载器在下载过程中也会有捆绑安装哦 另外注意修改安装目录为 D 盘的 Program File 或 Program File(x86) 目录。 Program File: 一般用于存放64位应用程序 Program File(x86): 一般用于存放32位应用程序 大部分应用程序我们只需要简单改一下盘符就可以了，但也有小部分想要安装到 AppData 目录下，这种就只能辛苦下把不正确的部分修改过来。 下面我们以迅雷安装为例： 首先我们进入迅雷的官网：https://www.xunlei.com/打开安装包，将安装目录改为 D 盘，然后安装 ![](https://bu.dusays.com/2022/05/17/6282fc08ad5c1.png) emmmm然后就无了 管理启动项未完待续~","tags":["Windows"],"categories":["随笔"]},{"title":"OpenVPN搭建教程","path":"/posts/c5ed2e3f/","content":"介绍虚拟专用网络（VPN）允许您遍历不受信任的网络，就像在专用网络上一样。当您连接到不受信任的网络（例如酒店或咖啡店的 WiFi）时，它使您可以从智能手机或笔记本电脑，安全地访问 Internet。 OpenVPN 是功能齐全的，开源的传输层安全性（TLS）VPN 解决方案，可适应多种配置。 使用 Docker 快速部署服务端配置首先创建一个目录，用来存放 openvpn 相关文件。之后在目录内执行下面这两条命令 生成服务端配置文件1docker run -v $(pwd)/conf:/etc/openvpn --log-driver=none --rm kylemanna/openvpn ovpn_genconfig -u udp://&lt;这里填写服务端公网ip&gt; 创建CA，配置证书1docker run -v $(pwd)/conf:/etc/openvpn --log-driver=none --rm -it kylemanna/openvpn ovpn_initpki 注意创建 CA 时设置的密码在后续创建客户端证书时需要用到 说明默认生成的配置文件适用于本地局域网环境，即客户机无法访问外网，需要借助服务机连接外网（未实践，可能有误） 由于默认生成的配置文件会导致本机网络无法使用，这里我们需要对其进行修改：将 $(pwd)/conf/openvpn.conf 中的内容替换 openvpn.conf1234567891011121314151617181920server 10.8.0.0 255.255.255.0port 1194proto udpdev tun0verb 3key /etc/openvpn/pki/private/&lt;这里保留原来的文件名&gt;.keyca /etc/openvpn/pki/ca.crtcert /etc/openvpn/pki/issued/&lt;这里保留原来的文件名&gt;.crtdh /etc/openvpn/pki/dh.pemtls-auth /etc/openvpn/pki/ta.keykey-direction 0keepalive 10 120persist-keypersist-tunstatus /tmp/openvpn-status.logclient-to-clientuser nobodygroup nogroupcomp-lzo nopush &quot;route 10.8.0.0 255.255.255.0&quot; 其中，10.8.0.0 为 vpn 连接后的网段，可以根据自己需要修改子网和掩码。server 和 push 配置项需要保持一致 若需要让每个客户端每次连接的 ip 不变，可以往该配置文件中添加 1ifconfig-pool-persist ipp.txt 启动提供两种方式启动，根据自己喜好选择。 dockerdocker-compose.yaml1docker run --restart always --cap-add NET_ADMIN --name openvpn -p 1194:1194/udp --privileged -v $(pwd)/conf:/etc/openvpn kylemanna/openvpn 12345678910111213version: &#x27;3&#x27;services: openvpn: image: kylemanna/openvpn restart: always cap_add: - NET_ADMIN container_name: openvpn ports: - 1194:1194/udp privileged: true volumes: - ./conf:/etc/openvpn 生成客户端配置创建客户端证书，$client_name 替换为需要的名字，需要输入 CA 密码。 1docker run -v $(pwd)/conf:/etc/openvpn --log-driver=none --rm -it kylemanna/openvpn easyrsa build-client-full $client_name nopass 接下来创建一个目录将下列文件复制过去 conf/pki/ca.crt conf/pki/ta.key conf/pki/issued/$client_name.crt: 即 client.crt conf/pki/private/$client_name.key: 即 client.key 接下来按照 配置客户端连接 进行配置。 下面介绍手动部署方法 前提 使用具有 sudo 非 root 用户进行搭建，下文称为 OpenVPN 服务器 注意出于安全考虑，不推荐你直接使用 root 用户进行搭建。 你要想用也拦不住你 使用单独的一台服务器作为专用的证书颁发机构（CA），下文称为 CA服务器 注意虽然从技术上讲可以将你的 OpenVPN 服务器或本地计算机作为 CA，但不建议这样做，因为它可能会使你的 VPN 出现一些安全漏洞。根据 OpenVPN 官方文档，你应该将 CA 放置在专用于导入和签名证书请求的独立计算机上。 都说了，你要想用咱也拦不住你 安装 OpenVPN 和 Easy-RSA首先需要安装 OpenVPN 和 Easy-RSA。 Easy-RSA 是一种公钥基础结构（PKI）管理工具，你将在 OpenVPN Server 上使用该工具生成证书请求，然后在 CA Server 上进行验证和签名。 CentOS 8 &#x2F; Rocky 8CentOS 8 和 Rocky 8 默认不提供 OpenVPN 和 Easy-RSA，因此你需要启用 EPEL 存储库。 12sudo dnf install epel-releasesudo dnf install openvpn easy-rsa UbuntuUbuntu 的默认仓库就已经有 OpenVPN 的包了 12sudo apt-get updatesudo apt-get install openvpn easy-rsa 配置 easy-rsa安装完成后，你需要以非 root 用户身份在 OpenVPN 服务器上创建一个新目录: 1mkdir ~/easy-rsa 该目录位置可以自定义，此处假设目录位置为~ 现在，你需要从 easy-rsa 创建一个符号连接，以便将软件包安装到你刚刚创建的 easy-rsa 目录中。 1ln -s /usr/share/easy-rsa/3/* ~/easy-rsa/ 最后，确保目录所有者是你当前使用的用户，并限制对该目录的访问: 12sudo chown openvpn ~/easy-rsachmod 700 ~/easy-rsa 假设你使用的是openvpn用户 为 OpenVPN 创建 PKI要在 OpenVPN 服务器上构建 PKI 目录，你需要使用一些默认值填充 vars 文件。 进入 easy-rsa 目录，然后创建和编辑 vars 文件。 1vi vars 打开文件后，粘贴下面两行: ~/easy-rsa/vars12set_var EASYRSA_ALGO &quot;ec&quot;set_var EASYRSA_DIGEST &quot;sha512&quot; 这些配置能够确保将你的私钥和证书请求配置为使用现代化的椭圆曲线密码术（ECC）为客户端和 OpenVPN 服务器生成密钥和安全签名。 填充 vars 文件后，即可继续创建 PKI 目录。 ~/easy-rsa1./easyrsa init-pki 配置 CA 服务器先按照上面的步骤安装 easy-rsa ，然后配置 easy-rsa 和 创建 PKI 说明如果你 CA 服务器和 OpenVPN 服务器一致，则直接执行下面的命令即可。 接下来执行该命令创建 CA 证书: 12cd ~/easy-rsa./easyrsa build-ca 首先会提示设置密码，用于 ca 对之后生成的 server 和 client 证书签名时使用，然后会提示设置 Country Name, State or Province Name, Locality Name, Organization Name, Organizational Unit Name, Common Name, Email Address, 可以键入回车使用默认的，也可以手动更改 创建 Diffie-Hellman在 OpenVPN 服务端执行该命令创建 Diffie-Hellman, 完成后将其复制到 /etc/openvpn/server 目录。 123cd ~/easy-rsa./easyrsa gen-dhsudo cp pki/dh.pem /etc/openvpn/server 时间可能会有点长，请耐心等待。 创建一个OpenVPN服务器证书请求和私钥现在，通过使用 gen-req 选项调用 easyrsa，后跟机器的通用名称（CN）。CN可以是你喜欢的任何内容，但最好是具有一定的描述性。在这里，OpenVPN Server 的 CN 将设置为 server。后面还需要包括 nopass 选项。否则，将对请求的文件进行密码保护，这可能会在以后导致权限问题。 注意如果你在这里选择 server 以外的名称，则必须调整以下一些内容。例如，将生成的文件复制到 &#x2F;etc&#x2F;openvpn&#x2F;server 目录时，你必须替换正确的名称。你还必须修改 &#x2F;etc&#x2F;openvpn&#x2F;server&#x2F;server.conf 文件，以指向正确的 .crt 和 .key 文件 ~/easy-rsa1./easyrsa gen-req server nopass 12345Common Name (eg: your user, host, or server name) [server]: # 这里直接回车Keypair and certificate request completed. Your files are:req: /home/sammy/easy-rsa/pki/reqs/server.reqkey: /home/sammy/easy-rsa/pki/private/server.key 这会为 OpenVPN 服务器创建一个 server.key 私钥和一个名为 server.req 的证书请求文件。将该密钥复制到 /etc/openvpn/server 目录: 1sudo cp ~/easy-rsa/pki/private/server.key /etc/openvpn/server/ 完成这些步骤后，你已经成功为您的 OpenVPN 服务器创建了私钥，并且生成了证书签名请求(req)。CSR 现在可以由你的 CA 签名了。 签署 OpenVPN 服务器的证书请求在 OpenVPN 服务器上，使用 scp 或其他传输方法将 server.req 证书请求复制到 CA 服务器以进行签名。 1scp ~/easy-rsa/pki/reqs/server.req ca_user@your_ca_server_ip:/tmp 说明若你的 CA 服务器为 OpenVPN 服务器，则你无需复制证书请求，无需导入证书请求。直接运行下面的 sign-req 命令即可 现在，以拥有 easy-rsa 目录的非 root 用户登录到 CA 服务器，使用 easyrsa 脚本导入证书请求: 12cd ~/easy-rsa./easyrsa import-req /tmp/server.req server 123. . .The request has been successfully imported with a short name of: serverYou may now use this name to perform signing operations on this request. 接下来运行带有 sign-req 选项的 easyrsa 脚本，然后时请求类型和公用名来对请求进行签名。请求类型可以是 client 或 server。由于我们在处理 OpenVPN 服务器的证书请求，因此请确保使用服务器请求类型(server): 1./easyrsa sign-req server server 然后系统将提示你确认请求是否来自受信任的来源。输入 yes，然后按 Enter 确认: 123456789101112131415You are about to sign the following certificate.Please check over the details shown below for accuracy. Note that this requesthas not been cryptographically verified. Please be sure it came from a trustedsource or that you have verified the request checksum with the sender.Request subject, to be signed as a server certificate for 3650 days:subject=commonName = serverType the word &#x27;yes&#x27; to continue, or any other input to abort.Confirm request details: yes. . .Certificate created at: /home/ca/easy-rsa/pki/issued/server.crt 注意如果你加密了 CA 私钥，则还会提示你输入密码 完成配置后，请将 server.crt 和 ca.crt 文件从 CA 服务器复制到 OpenVPN 服务器: 12scp pki/issued/server.crt openvpn@your_vpn_server_ip:/tmpscp pki/ca.crt openvpn@your_vpn_server_ip:/tmp 现在回到 OpenVPN 服务器，将文件从 /tmp 复制到 /etc/openvpn/server: 1sudo cp /tmp/&#123;server.crt,ca.crt&#125; /etc/openvpn/server 配置OpenVPN加密材料为了增加安全性，我们需要添加一个额外的共享密钥，服务器和所有客户端将使用该密钥，并将其与 OpenVPN 的 tls-crypt 指令一起使用。此选项用于混淆服务器和客户端最初相互连接时使用的 TLS 证书。 OpenVPN 服务器还使用它对传入的数据包进行快速检查: 如果数据包是使用预共享密钥签名的，则服务器会对其进行处理；如果未签名，则服务器知道它来自不受信任的来源，可以丢弃它而不必执行其他解密工作。 此选项将帮助确保您的 OpenVPN 服务器能够应对未经身份验证的流量，端口扫描和拒绝服务攻击，这些攻击可能占用服务器资源。这也使识别 OpenVPN 网络流量变得更加困难。 请在 OpenVPN 服务器上的 ~&#x2F;easy-rsa 目录中运行以下命令: 12cd ~/easy-rsaopenvpn --genkey --secret ta.key 然后将其复制到 /etc/openvpn/server 目录 1sudo cp ta.key /etc/openvpn/server 到这里，服务端所需的文件都齐全了，现在可以为需要使用这个 VPN 的用户创建客户端证书和密钥文件了。 生成客户端证书和密钥对接下来将指导你生成一个客户端证书和密钥对。如果你有多个客户端，则可以为每个客户端重复这个过程。 注意每个客户端的名称都必须为唯一的 12cd ~/easy-rsa./easyrsa gen-req client1 nopass 接下来可以再创建一个目录，用于收集客户端所需文件，同样的，建议将该目录权限改为 700 123mkdir ~/clientsudo chown openvpn ~/clientchmod 700 ~/client 将刚刚生成的 client1.key 复制到该目录 1cp ~/easy-rsa/pki/private/client1.key ~/client 然后将 client1.req 文件传输到你的 CA Server: 1scp pki/reqs/client1.req ca@your_ca_server_ip:/tmp 登录到 CA Server，然后进入 easy-rsa 目录，导入证书请求并签名。 123cd ~/easy-rsa./easyrsa import-req /tmp/client1.req client1./easarsa sign-req client client1 这里你必须指定请求类型为客户端类型(client) 12Type the word &#x27;yes&#x27; to continue, or any other input to abort.Confirm request details: yes 若你对 CA 密钥进行了加密，你还需输入 CA 密钥的密码。 接下来将生成的客户端证书文件传回服务器: 1scp pki/issued/client1.crt openvpn@your_server_ip:/tmp 然后将其移动到 client 目录 1mv /tmp/client1.crt ~/client 最后 OpenVPN 客户端还需要 ca.crt 和 ta.key 文件。 1sudo cp /etc/openvpn/server/&#123;ca.crt,ta.key&#125; ~/client 配置 OpenVPN 服务器首先，复制样本server.conf文件做为您自己的配置文件的起点，并编辑它: 12sudo cp /usr/share/doc/openvpn/sample/sample-config-files/server.conf /etc/openvpn/server/sudo vi /etc/openvpn/server/server.conf 在文件底部添加下列内容，# 后面的是注释，请勿将其写入配置 /etc/openvpn/server/server.conf1234567891011121314151617181920local 0.0.0.0port 1194 # 使用端口proto udp # 使用协议dev tun # 网卡名称ca ca.crtcert server.crtkey server.keydh dh.pemserver 10.8.0.0 255.255.255.0 # VPN网段及掩码ifconfig-pool-persist ipp.txtpush &quot;route 10.8.0.0 255.255.255.0&quot; # 流量转发，如需转发其它流量往下添加即可client-to-clientkeepalive 10 120tls-auth ta.key 0cipher AES-256-CBCcomp-lzopersist-keypersist-tunstatus openvpn-status.logverb 3 然后启动 OpenVPN Server 并开启自启 12sudo systemctl start openvpn-server@serversudo systemctl enable openvpn-server@server 若你使用了防火墙，记得打开对应端口 配置客户端连接Linux先安装 openvpn，如CentOS 8 &#x2F; Rocky 8: 12sudo dnf install epel-releasesudo dnf install openvpn 然后将 OpenVPN 服务端 client 目录中的 ca.crt、ta.key、client.key、client.crt 文件复制到客户端的 /etc/openvpn/client 目录。 openvpn-server1scp ~/client/&#123;ca.crt,ta.key,client.key,client.crt&#125; client@your_client_ip:/tmp openvpn-client1sudo mv /tmp/&#123;ca.crt,ta.key,client.key,client.crt&#125; /etc/openvpn/client/ 接下来复制样本 client.conf 文件做为你自己的配置文件起点，并编辑它: 12sudo cp /usr/share/doc/openvpn/sample/sample-config-files/client.conf /etc/openvpn/client/sudo vi /etc/openvpn/client/client.conf 在文件底部添加下列内容，# 后面的是注释，请勿将其写入配置 /etc/openvpn/client/client.conf12345678910111213141516clientdev tun # 网卡名proto udp # OpenVPN服务器使用的协议remote x.x.x.x 1194 # OpenVPN 服务器及端口resolv-retry infinitenobindpersist-keypersist-tunremote-cert-tls serverca ca.crtcert client1.crtkey client1.keytls-auth ta.key 1cipher AES-256-CBCcomp-lzoverb 3 最后启动 OpenVPN Client 并设置开机自启 12sudo systemctl start openvpn-client@clientsudo systemctl enable openvpn-client@client Windows首先前往 OpenVPN 官网下载 Windows 客户端应用 OpenVPN Clienthttps://openvpn.net/vpn-client/ 然后将 OpenVPN 服务端 client 目录中的 ca.crt、ta.key、client.key、client.crt 文件复制到 C:\\Users\\自己的用户名\\OpenVPN\\config 目录中 接下来在该目录创建一个 config.ovpn 文件，并编辑它 (# 后面的是注释，请勿将其写入配置) config.ovpn12345678910111213141516clientdev tun # 网卡名proto udp # OpenVPN服务器使用的协议remote x.x.x.x 1194 # OpenVPN 服务器及端口resolv-retry infinitenobindpersist-keypersist-tunremote-cert-tls serverca ca.crtcert client1.crtkey client1.keytls-auth ta.key 1cipher AES-256-CBCcomp-lzoverb 3 最后启动 OpenVPN Client 应用，右键任务栏托盘中的 OpenVPN 图标，点击 连接。","tags":["OpenVPN"],"categories":["教程"]},{"title":"Oh-My-Zsh 安装及美化","path":"/posts/4282b024/","content":"效果图 安装 zsh1wget https://raw.fastgit.org/romkatv/zsh-bin/master/install 修改该文件内的仓库地址为 hub.fastgit.org，然后运行 123...readonly url_base=https://hub.fastgit.org/romkatv/zsh-bin/releases/download/....... 12chmod u+x install./install 切换默认 Shell 1chsh -s /usr/local/bin/zsh # zsh安装目录 安装 oh-my-zsh下载安装脚本 1wget https://raw.fastgit.org/robbyrussell/oh-my-zsh/master/tools/install.sh 修改安装脚本默认仓库地址为gitee 12345# Default settingsZSH=$&#123;ZSH:-~/.oh-my-zsh&#125;REPO=$&#123;REPO:-ohmyzsh/ohmyzsh&#125;REMOTE=$&#123;REMOTE:-https://github.com/$&#123;REPO&#125;.git&#125;BRANCH=$&#123;BRANCH:-master&#125; 12REPO=$&#123;REPO:-mirrors/oh-my-zsh&#125;REMOTE=$&#123;REMOTE:-https://gitee.com/$&#123;REPO&#125;.git&#125; 运行它 12chmod u+x install.sh./install.sh 修改主题为 powerlevel10k1git clone --depth=1 https://gitee.com/romkatv/powerlevel10k.git $&#123;ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom&#125;/themes/powerlevel10k 修改主题为 powerlevel10k/powerlevel10k，source一下 1source ~/.zshrc 自定义 powerlevel10k 主题由于文件过大，下载下面的 .p10k.zsh 到根目录便可 .p10k.zshhttps://cdn.jsdelivr.net/gh/Colsrch/CDN/.p10k.zsh 完成后 source 一下 .zshrc 文件 1source ~/.zshrc","tags":["Linux","oh-my-zsh","zsh"],"categories":["教程"]},{"title":"像 MAC 一样使用你的 Windows Terminal","path":"/posts/902884d9/","content":"完成效果 安装 Windows Terminal说明Windows Terminal 被集成于 Windows 11，因此 Windows 11 用户请跳过该步骤 直接打开 Microsoft Store (微软商店) 搜索 Windows Terminal安装 美化 改主题 （Oh-My-Posh） 改颜色主题 换字体 运行 PowerShell（管理员模式）12# 保证允许本地脚本的执行set-executionpolicy remotesigned -scope currentuser 安装 scoop请注意你能正常、快速的访问 GitHub 并下载上面的资源，并且你的 Windows 用户名为英文（Windows 用户环境变量中路径值不支持中文字符） 若你的 Github 访问速度不佳你可以参考此文配置 PowerShell 的代理 如何给 Windows PowerShell 配置代理https://colsrch.cn/posts/855bdf57 1iex (new-object net.webclient).downloadstring(&#x27;https://get.scoop.sh&#x27;) 安装字体123456# 搜索 nerd fonts，这里选择是的FantasqueSansMono这个字体scoop search FantasqueSansMono-NF# 添加 nerd fonts 源scoop bucket add &#x27;nerd-fonts&#x27;# 安装 nerd fontsscoop install FantasqueSansMono-NF 安装oh-my-posh（类似oh-my-zsh）123456789101112131415161718192021222324# 1. 安装 chocoSet-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString(&#x27;https://chocolatey.org/install.ps1&#x27;))# 2. 安装ConEmuchoco install ConEmu# 3. 安装 posh-git 和 oh-my-poshInstall-Module posh-git -Scope CurrentUserInstall-Module oh-my-posh -Scope CurrentUser# 4. 设置 Powershell 的 profileif (!(Test-Path -Path $PROFILE )) &#123; New-Item -Type File -Path $PROFILE -Force &#125;notepad $PROFILE# 5. 粘贴以下内容进 profile 文件Import-Module posh-gitImport-Module oh-my-posh# 查看主题Get-PoshThemes# Set-Theme 已经被 Set-PoshPrompt 替代# Paradox是主题名称Set-PoshPrompt -Theme Paradox","tags":["Terminal","PowerShell"],"categories":["教程"]},{"title":"如何给 Windows PowerShell 配置代理","path":"/posts/855bdf57/","content":"首先打开 PowerShell, 然后打开 PowerShell 的配置文件: 1notepad $profile 如若提示找不到对应文件则先执行下面这个命令创建一个 PowerShell 配置文件:注意替换里面的 http://example.com 为你的HTTP代理链接 1if (!(Test-Path -Path $PROFILE )) &#123; New-Item -Type File -Path $PROFILE -Force &#125; 然后在打开的文件中添加下列内容: Microsoft.PowerShell_profile.ps1123456789101112131415161718192021222324$regPath = &#x27;HKCU:\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings&#x27;function Clear-Proxy&#123; Set-ItemProperty -Path $regPath -Name ProxyEnable -Value 0 Set-ItemProperty -Path $regPath -Name ProxyServer -Value &#x27;&#x27; Set-ItemProperty -Path $regPath -Name ProxyOverride -Value &#x27;&#x27; [Environment]::SetEnvironmentVariable(&#x27;http_proxy&#x27;, $null) [Environment]::SetEnvironmentVariable(&#x27;https_proxy&#x27;, $null)&#125;function Set-Proxy&#123; $proxy = &#x27;http://example.com&#x27; Set-ItemProperty -Path $regPath -Name ProxyEnable -Value 1 Set-ItemProperty -Path $regPath -Name ProxyServer -Value $proxy Set-ItemProperty -Path $regPath -Name ProxyOverride -Value &#x27;&lt;local&gt;&#x27; [Environment]::SetEnvironmentVariable(&#x27;http_proxy&#x27;, $proxy) [Environment]::SetEnvironmentVariable(&#x27;https_proxy&#x27;, $proxy)&#125;Set-Proxy 最后重启 Windows PowerShell 就可以 如若提示 在此系统上禁止运行脚本 则运行下面这个命令允许运行脚本: 1set-executionpolicy remotesigned -scope currentuser","tags":["Terminal","PowerShell"],"categories":["教程"]},{"title":"Madoka 使用教程","path":"/posts/c1c683d7/","content":"配置 Mirai该机器人使用 mirai 进行收发消息，因此需要先配置 mirai. 配置 JAVA 环境安装 Java 11 版本以上的 OpenJDK 并添加 环境变量。 注意：请安装 OpenJDK 而不是甲骨文(Oracle)的jdk。原因 下载 mirai-console-loader 启动器mirai-console-loader 简称 mcl，是 mirai-console 的官方一键启动器。 由于想要运行 Mirai 需要准备 mirai-core, mirai-console 和 mirai-console-terminal, 然后还需要通过一大串指令来启动它。因此有了 mcl 一键启动它，我们只需要下载它即可。 mirai-console-loaderhttps://github.com/iTXTech/mirai-console-loader/releases/latest 下载完成 mcl 之后解压，我们可以得到下列文件 进入该目录，让我们启动它 Linux1./mcl Windows1.\\mcl.cmd 启动后它会自动下载一堆依赖，当你看到 mirai-console started successfully. 就代表你已经启动 mirai-console 成功了😘 接下来让我们先关掉它。 配置 mirai-api-http v2首先前往项目地址下载这个jar包（下载 2.x 版本哦） mirai-api-http-2.x.x.mirai.jarhttps://github.com/project-mirai/mirai-api-http/releases 然后将其放到 plugins 目录下 现在你需要再次启动 mcl 以便自动生成 mirai-api-http 的配置文件。 启动后就关掉哦~ 编辑 mirai-api-http 配置文件，一般只需要自定义一下 verifyKey 就可以了，下面是示例配置 config/net.mamoe.mirai-api-http/setting.yml1234567891011121314151617181920adapters: - http - wsdebug: falseenableVerify: trueverifyKey: ServiceVerifyKey # 你可以自己设定, 这里作为示范singleMode: falsecacheSize: 4096 # 可选, 缓存大小, 默认4096. 缓存过小会导致引用回复与撤回消息失败adapterSettings: ## 详情看 http adapter 使用说明 配置 http: host: localhost port: 8080 # 端口 cors: [*] ## 详情看 websocket adapter 使用说明 配置 ws: host: localhost port: 8080 # 端口 reservedSyncId: -1 # 确保为 -1 配置自动登录编辑 AutoLogin.yml 配置文件，示例配置： config/Console/AutoLogin.yml1234567891011121314accounts: - # 账号, 现只支持 QQ 数字账号 account: 123456 password: # 密码种类, 可选 PLAIN 或 MD5 kind: PLAIN # 密码内容, PLAIN 时为密码文本, MD5 时为 16 进制 value: password # 账号配置. 可用配置列表 (注意大小写): # &quot;protocol&quot;: &quot;ANDROID_PHONE&quot; / &quot;ANDROID_PAD&quot; / &quot;ANDROID_WATCH&quot; # &quot;device&quot;: &quot;device.json&quot; configuration: protocol: ANDROID_PHONE device: device.json 接下来再次运行 mcl 就可以登录了。 登录验证问题若你登录过程中遇到登录验证等问题，推荐使用 MiraiAndroid 成功登录你对应的 QQ 号后，导出对应 device.json 并复制到 bots/QQ账号 目录。 MiraiAndroidhttps://github.com/mzdluo123/MiraiAndroid/releases/latest 配置 Madoka前面我们已经成功运行 mcl 了，接下来就要开始配置机器人核心程序了。为什么叫它核心程序？只有一个 mirai 也不能干什么事。 安装 MySQLMadoka 使用 MySQL 来存储 99.99% 的数据，这里推荐安装 MySQL 8.0+, 在 Madoka 开发测试中，所用版本均为 8.0。 具体安装方法请移步搜索引擎检索 安装完成后需要创建一个数据库，例如：qqbot 克隆项目1git clone https://github.com/MadokaProject/Application.git Madoka 安装依赖进入 Madoka 目录，执行下列命令安装依赖 1pip install -r requirements.txt 建议使用 Virtualenv 或 Anaconda 等虚拟环境工具 配置基本信息将 app/core 目录的 env.config.ini 文件复制或重命名为 config.ini, 然后补全它。 注意：你不应该往配置字段值中添加任何无关符号。错误写法: key&#x3D;&#39;value&#39;正确写法: key&#x3D;value 安装插件前往 插件仓库 将所需插件对应文件弄到至 app/plugin 目录（不管什么方式，然后执行 .sys reload 命令或重启机器人 若你安装的插件有需要安装的依赖库，你应该可以在对应插件同名文件夹下找到requirements.txt文件。 方法三使用 Web 端一键安装（暂无）。 你也可以自行在该目录编写其他插件，同时欢迎你将你的插件 PR 到插件仓库。 运行 Madoka请确保你的 mirai 已运行 1python main.py 若你在安装依赖时使用了虚拟环境，你还需要先切换到对应虚拟环境中。","tags":["Python","Madoka","Graia"],"categories":["教程"]},{"title":"如何使用Docker部署code-server并配置nginx反代","path":"/posts/70b7184b/","content":"前提你需要先安装 Docker，安装方法请移步至搜索引擎检索 部署 code-server容器部署12345678docker run -d --name code-server --restart=always \\ -u &quot;$(id -u):$(id -g)&quot; \\ -p 8910:8080 -p 5500:5500 \\ -v &quot;/home/coder/coder-service:/home/coder/project&quot; \\ -v &quot;/home/coder/coder-config:/home/coder/.local/share/code-server&quot; \\ -v &quot;/home/coder/.ssh:/home/coder/.ssh&quot; -e PASSWORD=&#x27;*********&#x27; \\ codercom/code-server:latest 请在PASSWOED中填写您的code-server密码 coder-service、coder-config、.ssh目录的挂载用于保存数据及配置信息 容器内基础环境部署(可放至nginx反代后配置)123sudo apt updatesudo apt upgradesudo apt install zsh wget ssh vim 安装 oh-my-zsh12sh -c &quot;$(wget -O- https://cdn.jsdelivr.net/gh/robbyrussell/oh-my-zsh/tools/install.sh)&quot;chsh -s /usr/bin/zsh 配置 SSH12345mkdir /home/coder/.sshcd /home/coder/.sshssh-keygen -t rsa -C &quot;youremail&quot;# Generating public/private rsa key pair.# Enter file in which to save the key (/root/.ssh/id_rsa): /home/coder/.ssh/id_rsa # 此处注意修改路径 配置 SSH 权限123sudo chmod 600 /home/coder/.ssh/id_rsasudo chmod 644 /home/coder/.ssh/id_rsa.pubsudo chmod 700 /home/coder/.ssh 12ssh-agent zshssh-add /home/coder/.ssh/id_rsa 配置 git 设置 name 与 email 12git config --global user.name &quot;name&quot;git config --global user.email &quot;email&quot; 指定 SSH 私钥文件(若不指定则会造成使用 git ssh 验证失败) 1git config --global core.sshCommand &quot;ssh -i /home/coder/.ssh/id_rsa&quot; 配置 nginx 反代 推荐使用宝塔配置 首先创建一个站点，填好域名打开设置，添加反向代理填写代理名称目标URL填写：http://localhost:8910 或 http://127.0.0.1/8910保存后点击 配置文件在 proxy_set_header REMOTE-HOST $remote_addr; 下方添加下列配置后保存12proxy_set_header Upgrade $http_upgrade;proxy_set_header Connection upgrade;","tags":["Linux","Nginx","Docker"],"categories":["教程"]},{"title":"轻松解决使用 WSL2 出现的\"参考的对象类型不支持尝试的操作。\"问题","path":"/posts/385abc3e/","content":"错误原因 代理软件与 wsl2 的端口冲突 如果 Winsock LSP DLL 被加载到其进程中，则 wsl.exe 将显示此错误。最简单的解决方案是对 wsl.exe 使用 WSCSetApplicationCategory WinAPI 调用来防止这种情况。在后台，该调用在 HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\WinSock2\\Parameters\\AppId_Catalog 中为 wsl.exe 创建一个条目。这将告诉 Windows 不要将 LSP DLL 加载到 wsl.exe 进程中 解决方法下载 NoLsp (你可能需要使用代理下载)NoLsp.exehttp://www.proxifier.com/tmp/Test20200228/NoLsp.exe以管理员权限运行 Powershell注意下 NoLsp 的位置1NoLsp.exe C:\\windows\\system32\\wsl.exe返回 Success! 就成功了","tags":["WSL2","Windows"],"categories":["教程"]},{"title":"MySQL 数据库命令语法大全","path":"/posts/63cc582b/","content":"数据库基本语法创建数据库123CREATE &#123;DATABASE|SCHEMA&#125; [IF NOT EXISTS] &lt;数据库名&gt;[[DEFAULT] CHARACTER SET] &lt;字符集名&gt;|[DEFAULT] COLLATE &lt;校对规则名&gt;] 语法说明[ ] 内为可选项，&#123; &#125; 为二选一。 数据库名：数据库名字 IF NOT EXISTS：建数据库前判断有无创建的数据库，只有在该数据库不存在的时候才进行 CREATE DATABASE 创建操作。 DEFAULT：指定默认值 CHARACTER SET：指定数据库字符集 COLLATE：指定字符集的校对规则 最简格式1CREATE DATABASE &lt;数据库名&gt; 打开数据库创建了数据库之后，使用USE命令可指定当前数据库。 1USE &lt;数据库名&gt; 在使用`CREATEDATABASE&#96;语句创建数据库之后，该数据库不会自动成为当前数据库，需要使用这条USE语句来指定。 修改数据库123ALTER &#123;DATABASE|SCHEMA&#125; &lt;数据库名&gt;[[DEFAULT] CHARACTER SET &lt;字符集名&gt;|[DEFAULT] COLLATE &lt;校对规则名&gt;] 语法说明[ ] 内为可选项，&#123; &#125; 为二选一。 DEFAULT：指定默认值 CHARACTER SET：指定数据库字符集 COLLATE：指定字符集的校对规则 删除数据库用于删除已创建的数据库 1DROP DATABASE [IF EXISTS] &lt;数据库名&gt; 语法说明 数据库名：要删除的数据库名 IF EXISTS：避免删除不存在的数据库时，出现的MySQL错误信息。 显示数据库1SHOW DATABASES 数据表基本语法创建数据表创建表123CREATE TABLE [IF NOT EXISTS] &lt;表名&gt;(&lt;列名&gt; &lt;数据类型&gt; [NOT NULL|NULL] [DEFAULT 列默认值]…)ENGINE=&lt;存储引擎&gt; 语法说明 IF NOT EXISTS：在建表之前判断，只有在该表不存在时才执行创建表操作。此选项可避免出现表已经存在无法再新建的错误。 表名：要创建表的表名。必须符合标志符规则，若有 MySQL 保留字，必须用单引号括住。 列名：表中列的名字。必须符合标志符规则，长度不能超过64个字符，具有唯一性，若有 MySQL 保留字，必须用单引号括住。 数据类型：列的数据类型，有的数据类型需要指明长度n，并用括号括起来。 NOT NULL|NULL：指定该列是否允许为空。默认为 NULL。 DEFAULT 列默认值：为列指定默认值，默认值必须为一个常数，其中，BOLB 和 TEXT 列不能被赋予默认值。如果没有为列指定默认值，MySQL 会自动地分配一个。 若列可以取 NULL 值，默认值就是 NULL。如果列被声明为 NOT NULL，默认值取决于列类型。 ENGINE=存储引擎：MySQL 支持数个存储引擎作为对不同表的类型的处理器。使用时要用具体的存储引擎名称代替代码中的存储引擎，如 ENGINE&#x3D;InnoDB。 管理数据表修改数据表修改表名1ALTER TABLE &lt;旧表名&gt; RENAME [TO] &lt;新表名&gt; 示例： 123use my_sql;alter table tb_RENAME1 rename tb_RENAME2; 修改字段的数据类型1ALTER TABLE &lt;表名&gt; MODIFY &lt;字段名&gt; &lt;数据类型&gt; 示例： 1alter table tb_RENAME2 modify name varchar(30); 修改字段名1ALTER TABLE &lt;表名&gt; CHANGE &lt;旧字段名&gt; &lt;新字段名&gt; &lt;新数据类型&gt; 其中,“旧字段名”指修改前的字段名;“新字段名”指修改后的字段名;“新数据类型”指修改后的数据类型,如果不需要修改字段的数据类型,可以将新数据类型设置成与原来一样即可,但数据类型不能为空。 示例： 1alter table tb_RENAME2 change loc location VARCHAR(50); 添加字段1ALTER TABLE&lt;表名&gt; ADD &lt;新字段名&gt; &lt;数据类型&gt; [约束条件] [FIRST|AFTER 已存在字段名]; “ FIRST”为可选参数,其作用是将新添加的字段设置为表的第一个字段;“AFTER”为可选参数,其作用是将新添加的字段添加到指定的“已存在字段名”的后面。 示例添加无完整性约束性条件的字段在数据表 tb_RENAME2 中添加一个没有完整性约束的 INT 类型的字段 managerId1alter table tb_RENAME2 add managerId int(10);添加有完整性约束性条件的字段在数据表 tb_RENAME2 中添加一个不能为空的 VARCHAR(12)类型的字段 column11alter table tb_RENAME2 add column1 varchar(12) not null;在表的第一列添加一个字段在数据表 tb_RENAME2 中添加一个int类型的字段 column21alter table tb_RANAME2 add column2 int(10) first;在表的指定列之后添加一个字段在数据表tb_RENAME2中name列后添加一个int类型的字段column31alter table tb_RENAME2 add column3 int(10) after name; 删除字段1ALER TABLE &lt;表名&gt; DROP &lt;字段名&gt; 修改字段的排列位置1ALTER TABLE &lt;表名&gt; MODIFY &lt;字段1&gt; &lt;数据类型&gt; FIRST|AFTER &lt;字段2&gt;; “字段1”指要修改位置的字段,“数据类型”指“字段1”的数据类型,“ FIRST”为可选参数,指将“字段1”修改为表的第一个字段,“ AFTER字段2”指将“字段1”插入到“字段2”后面。 示例修改字段为表的第一个字段将数据表tb_RENAME2中的column1字段修改为表的第一个字段1alter table tb_RENAME2 modify column1 varchar(12) first;修改字段到表的指定列之后将数据表tb_RENAME2中的column1字段插入到location字段后面1alter table tb_RENAME2 modify column1 varchar(12) after location; 更改表的存储引擎MySQL支持的存储引擎 引擎名 是否支持 FEDERATED 否 MRG MYISAM 是 MYISAM 是 BLACKHOLE 是 CSV 是 MEMORY 是 ARCHIVE 是 InnoDB 是 PERFORMANCE SCHEMA 默认 1ALTER TABLE &lt;表名&gt; engine=&lt;新存储引擎名&gt; 示例：将数据表tb_RENAME2的存储引擎修改为MyISAM 1alter table tb_RENAME2 engine=MyISAM; 删除表的外键约束对于数据库中定义的外键,如果不再需要,可以将其删除。外键一旦删除,就会解除主表和从表间的关联关系。 1ALTER TABLE &lt;表名&gt; DROP FOREIGN KEY &lt;外键约束名&gt; “外键约束名”指在定义表时CONSTRAINT关键字后面的参数","tags":["MySQL"],"categories":["资料"]},{"title":"给你的博客实现自动夜间模式","path":"/posts/9eae9d7b/","content":"Volantis主题用户可完全参照本文进行修改，其它主题用户看着改吧😂 本文最后更新于2020年12月29日19点01分 咱废话不多说，直接开始正文吧😏 准备 开启 darkmodejs 配置 在 navbar 配置项的适当位置添加下列配置代码123- name: 暗黑模式 # 可自定义 icon: fas fa-moon # 可自定义 toggle: darkmode 根据下文进行添加 Message.js 、添加弹窗 css 样式操作如何给博客添加弹窗通知https://colsrch.cn/posts/72bb5148/ 修改 layout&#x2F;_partial&#x2F;scripts&#x2F;darkmode.ejs 文件 将下面这行代码复制添加至该文件的开头 1&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.jsdelivr.net/gh/Colsrch/CDN@master/judge_time/js.js&quot;&gt;&lt;/script&gt; 将下列代码复制添加至该文件的末尾（script）标签前面哦 点击查看123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130// 自动夜间模式if (navigator.geolocation) &#123; //获取地理位置 用于判断日出日落时间 navigator.geolocation.getCurrentPosition( function (position) &#123; var res = computeSunRiseSunSet(position.coords.latitude, position.coords.longitude, 8); console.log(res.str) adjust_time(res.strSunRise, res.strSunSet, &quot;08:00&quot;, &quot;12:00&quot;, &quot;14:00&quot;, &quot;23:00&quot;) &#125;, function (e) &#123; adjust_time(&quot;7:00&quot;, &quot;17:30&quot;, &quot;08:00&quot;, &quot;12:00&quot;, &quot;14:00&quot;, &quot;23:00&quot;) //未允许获取地理位置时，使用默认时间 console.log(&quot;未允许获取地理位置，使用默认配置时间&quot;) throw (e.message); &#125; ) &#125;function adjust_time(beginTime, endTime, morningTime, noonTime, afternoonTime, nightTime) &#123; const rootElement = document.documentElement; var strb = beginTime.split(&quot;:&quot;); if (strb.length != 2) &#123; return false; &#125; var stre = endTime.split(&quot;:&quot;); if (stre.length != 2) &#123; return false; &#125; var strmorning = morningTime.split(&quot;:&quot;); //12点 if (stre.length != 2) &#123; return false; &#125; var strnoon = noonTime.split(&quot;:&quot;); //12点 if (stre.length != 2) &#123; return false; &#125; var strafternoon = afternoonTime.split(&quot;:&quot;); //13点 if (stre.length != 2) &#123; return false; &#125; var strnight = nightTime.split(&quot;:&quot;); //23点 if (stre.length != 2) &#123; return false; &#125; var b = new Date(); var e = new Date(); var n = new Date(); var morning = new Date(); var noon = new Date(); var afternoon = new Date(); var night = new Date(); b.setHours(strb[0]); b.setMinutes(strb[1]); e.setHours(stre[0]); e.setMinutes(stre[1]); morning.setHours(strmorning[0]); morning.setMinutes(strmorning[1]); noon.setHours(strnoon[0]); noon.setMinutes(strnoon[1]); afternoon.setHours(strafternoon[0]); afternoon.setMinutes(strafternoon[1]); night.setHours(strnight[0]); night.setMinutes(strnight[1]); $.getJSON(&quot;https://v1.hitokoto.cn&quot;, function (hitokoto) &#123; //在这里面处理获得的数据 if (n.getTime() - b.getTime() &gt; 0 &amp;&amp; n.getTime() - e.getTime() &lt; 0) &#123; var daytimetitle = &#x27;&#x27; var daytimemessage = &#x27;&#x27; if (n.getTime() - morning.getTime() &lt; 0) &#123; // 早上 daytimetitle = &#x27;早安&#x27; &#125; else if (n.getTime() - noon.getTime() &lt; 0) &#123; // 上午 daytimetitle = &#x27;上午好&#x27; &#125; else if (n.getTime() - afternoon.getTime() &lt; 0) &#123; // 中午 daytimetitle = &#x27;中午好&#x27; daytimemessage = &#x27;&lt;br&gt;要注意休息哦~&#x27; &#125; else &#123; // 下午 daytimetitle = &#x27;下午好&#x27; &#125; // 判断是否已经开启夜间模式 if (rootElement.getAttribute(&#x27;data-user-color-scheme&#x27;, &#x27;dark&#x27;)) &#123; // 已开启夜间模式，修改按钮状态 $.message(&#123; title: &#x27;操作通知&#x27;, message: daytimetitle + &#x27;，已自动为您切换为日间模式。&lt;br&gt;&#x27; + hitokoto.hitokoto + daytimemessage, type: &#x27;success&#x27; &#125;); const mode = toggleCustomDarkMode(); applyCustomDarkModeSettings(mode); &#125; else &#123; // 未开启夜间模式，不执行操作 $.message(&#123; title: daytimetitle, message: hitokoto.hitokoto + daytimemessage, type: &#x27;info&#x27; &#125;); return true; &#125; &#125; else &#123; // 晚上 var nighttitle = &#x27;&#x27; var nightmessage = &#x27;&#x27; if (night.getTime() - n.getTime() &lt; 0 || n.getTime() - b.getTime() &lt; 0) &#123; nighttitle = &#x27;夜深了&#x27; nightmessage = &#x27;&lt;br&gt;该睡觉啦~&#x27; &#125; else &#123; nighttitle = &#x27;晚上好&#x27; nightmessage = &#x27;&lt;br&gt;吃晚饭了吗？要注意眼睛哦。&#x27; &#125; // 判断是否已经开启夜间模式 if (rootElement.getAttribute(&#x27;data-user-color-scheme&#x27;, &#x27;dark&#x27;)) &#123; // 已开启夜间模式，不执行操作 $.message(&#123; title: nighttitle, message: hitokoto.hitokoto + nightmessage, type: &#x27;info&#x27; &#125;); return true; &#125; else &#123; // 未开启夜间模式，修改按钮状态 $.message(&#123; title: &#x27;操作通知&#x27;, message: nighttitle + &#x27;，已自动为您切换为夜间模式。&lt;br&gt;&#x27; + hitokoto.hitokoto + nightmessage, type: &#x27;success&#x27; &#125;); const mode = toggleCustomDarkMode(); applyCustomDarkModeSettings(mode); &#125; &#125; &#125;);&#125;","tags":["Hexo"],"categories":["教程"]},{"title":"Nginx 防止被域名恶意解析的方法","path":"/posts/a989d3bb/","content":"今天在google搜自己网站时，发现了一个并不属于我的域名，但该域名下的内容与我的某个网站中的内容一模一样，并且可以登陆。 随即去 ping 了一下这个域名，发现解析的是我服务器 ip 。 恶意解析实锤了 域名被恶意解析的危害!可能您并不介意通过别人的域名访问到您的网站，但是如果这个域名是未备案域名呢?假如那域名是不友善的域名，比如曾经指向非法网站，容易引发搜索引擎惩罚，连带IP受到牵连。即使域名没什么问题，但流量也会被劫持到别的域名，从而遭到广告联盟的封杀。 百度了一下，发现这可能是因为 nginx 配置上貌似有个漏洞，导致任何域名解析到服务器都能被正常请求，虽然是个空白页，但 HTTP 状态码是 200 。 下面给出一个我认为比较好的解决方法： 打开服务器宝塔面板打开对应网站的设置界面 ![](https://bu.dusays.com/2020/12/17/eeadd26160b7b.png) 选择‘配置文件’选项在 server 头部添加下列配置文件将恶意域名重定向至对应网站正确域名 123if ($host !~ ^正确域名$)&#123; rewrite ^(.*) https://需跳转的域名链接$1 permanent; &#125; 将恶意域名进行 444 错误代码（推荐使用） 123if ($host !~ ^正确域名$)&#123; return 444; &#125; 当然啦，这里也不是一定要444错误代码，只是个人认为444错误代码最为恰当","tags":["Linux","Nginx"],"categories":["教程"]},{"title":"Pycharm汉化方法（无需操作文件）","path":"/posts/fc4ebcd4/","content":"前言在百度上查的Pycharm汉化方法大多都是下载zh_CN.jar汉化包，该方法汉化内容不全，并不推荐使用。 这里分享一个无需汉化包的汉化方法，先看成品图： 可以看到99%的内容都被汉化了（虽然这个图片上的是全部汉化） 汉化方法先启动Pycharm，单击 File → Settings… 选择 Plugins，在右边 Marketplace 选项卡下的搜索框中输入 Chinese ，按回车搜索。 单击 Chinese（Simplified）Language Pack EAP 旁边的 Install 安装完成后重启 Pycharm，接下来映入眼帘的就是想要的中文了。 不想要中文了？原方法打开 Plugins（插件），选择 已安装，选择 Chinese（Simplified）Language Pack EAP ，单击右边的 关闭 按钮后重启，就可以换回英文了，换回中文同理（再次启用即可）","tags":["Pycharm","Python"],"categories":["教程"]},{"title":"CentOS 7 安装教程","path":"/posts/1e434b9f/","content":"为了方便截图，本次安装过程使用VM虚拟机安装 进入CentOS 7 安装界面用上下光标键选择 Install CentOS 7，按Enter键确认。 选择安装过程使用语言可选择English或中文-简体，推荐使用English, 本教程也以英文安装界面为基础编写。选择完毕后单击Continue或下一步。 配置时区选择DATE &amp; TIME 切换时区为Asia - Shanghai，将时间改为当前时间，完成后单击Done或下一步 配置键盘（其实就是输入法啦）若列表中已有Chinese或汉语可跳过该步骤 选择KEYBOARD 单击左下角+号，选择Chinese，单击Add，完成后单击Done 配置系统语言若该项已显示中文简体可跳过该步骤 单击 LANGUAGE SUPPORT 选择中文，勾选简体中文（中国），完成后单击Done或下一步 选择安装模式单击SOFTWARE SELECTION 选择Server with GUI,在右边勾上Compatibility Libraries 和 Development Tools，完成后单击Done 进行系统分区单击INSTALLATION DESTINATION 即安装位置 先选中相应的硬盘，选择I will configure partitioning 自定义分区，完成后单击Done 选择Standard Partition 标准分区，单击左下角 + 添加分区 分别创建&#x2F;boot区、swap交换分区、根分区&#x2F; 注释：Linux系统最简单的分区方案： 1、分&#x2F;boot区，给200M，&#x2F;boot放启动文件。 2、分交换分区（交换空间）swap，看内存总大小，如果内存足够大，这个空间就要设置太大了。如果内存小于2G。那么这个空间设置成内存的2倍大小。 3、所有空间给&#x2F;（根分区） 完成后单击Done，单击Accept Changes 设置网络连接和主机名单击 NETWORK &amp; HOST NAME 设置网络连接和主机名 在Host name处设置主机名：（例如 centos-7），单击Apply若无Apply项可直接下一步 单击Done 此时我们已经完成了大部分设置，单击右下角的Begin-Installation 设置账户及密码配置ROOT PASSWORD 超级管理员密码,创建一个USER CREATION 用户账户 完成安装等待下方进度条跑满（也就是安装完毕），单击右下角Rebot重启即可。","tags":["Linux","CentOS 7"],"categories":["教程"]},{"title":"Hexo如何升级5.0","path":"/posts/62967183/","content":"前期准备升级hexo-cli第一步，那当然是升级我们的hexo环境啦，升级到最新就可以了，目前的最新版本好像是 hexo-cli：4.2.0，可以执行下下面这个指令看看自己是不是这个版本或者高于这个版本。 1hexo -v 如果hexo-cli低于4.2.0那就需要升级下hexo环境，我们简简单单的重新安装一次就可以啦~简单粗暴有没有 12npm un hexo-cli -gnpm i hexo-cli -g 修改package.json把dependencies下的hexo改成最新的就可以啦，比如5.1.0。 修改根目录的_config.yml文件Directory区域删除contribute_dir: contribute配置项 查看新旧配置对比旧配置12345678910# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescontribute_dir: contribute # 这是要删除的code_dir: downloads/codei18n_dir: :langskip_render:新配置123456789# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render: Writing区域在最后添加下列配置项 12345prismjs: enable: false preprocess: true line_number: true tab_replace: &#x27;&#x27; 查看新旧配置对比旧配置1234567891011121314151617181920# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: &#x27;&#x27;filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: &#x27;&#x27; wrap: true hljs: false新配置12345678910111213141516171819202122232425# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: &#x27;&#x27;filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: &#x27;&#x27; wrap: true hljs: falseprismjs: enable: false preprocess: true line_number: true tab_replace: &#x27;&#x27; Date &#x2F; Time format区域这个直接看新旧配置吧，替换就行 查看新旧配置旧配置12## Use post&#x27;s date for updated date unless set in front-matteruse_date_for_updated: false新配置12## updated_option supports &#x27;mtime&#x27;, &#x27;date&#x27;, &#x27;empty&#x27;updated_option: &#x27;mtime&#x27; 最后工作然后把node_modules目录删除后重新npm i就可以啦。 如果出错的话可以把package-lock.json文件删除再做这个操作。 新版hexo特性支持_config.[theme].yml自定义配置覆盖功能，优先级如下： theme_config ＞ _config.[theme].yml ＞ themes&#x2F;[theme]&#x2F;_config.yml","tags":["Hexo"],"categories":["教程"]},{"title":"如何给博客添加弹窗通知","path":"/posts/72bb5148/","content":"本教程适用于Volantis主题 该教程理论上支持所有Hexo主题 照搬该教程可实现音乐通知、音乐自动播放通知、复制内容通知 其他通知可根据原理自行添加哦~ 修改之前别忘了把主题配置的use_cdn改为false，否则用的就是主题提供的cdn了，就不会出现弹窗了。 Volantis⁴及以下配置方法Volantis⁴及以下配置方法添加Message.js为了控制弹窗的弹出与收回，需要添加一个js控制其行为 Message.js在 themes/volantis/source/js/app.js 文件末尾直接添加该js代码。为了保持目录干净，我推荐第二种方法哦~点击查看Message.js代码12// Message.js$.extend(&#123;message:function(e)&#123;var n=&#123;title:&quot;&quot;,message:&quot; 操作成功&quot;,time:&quot;3000&quot;,type:&quot;success&quot;,showClose:!0,autoClose:!0,onClose:function()&#123;&#125;&#125;;&quot;string&quot;==typeof e&amp;&amp;(n.message=e),&quot;object&quot;==typeof e&amp;&amp;(n=$.extend(&#123;&#125;,n,e));var i,o,s,t=n.showClose?&#x27;&lt;div class=&quot;c-message--close&quot;&gt;×&lt;/div&gt;&#x27;:&quot;&quot;,a=&quot;&quot;!==n.title?&#x27;&lt;h2 class=&quot;c-message__title&quot;&gt;&#x27;+n.title+&quot;&lt;/h2&gt;&quot;:&quot;&quot;,c=&#x27;&lt;div class=&quot;c-message animated animated-lento slideInRight&quot;&gt;&lt;i class=&quot; c-message--icon c-message--&#x27;+n.type+&#x27;&quot;&gt;&lt;/i&gt;&lt;div class=&quot;el-notification__group&quot;&gt;&#x27;+a+&#x27;&lt;div class=&quot;el-notification__content&quot;&gt;&#x27;+n.message+&quot;&lt;/div&gt;&quot;+t+&quot;&lt;/div&gt;&lt;/div&gt;&quot;,m=$(&quot;body&quot;),d=$(c);o=function()&#123;d.addClass(&quot;slideOutRight&quot;),d.one(&quot;webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend&quot;,function()&#123;s()&#125;)&#125;,s=function()&#123;d.remove(),n.onClose(n),clearTimeout(i)&#125;,$(&quot;.c-message&quot;).remove(),m.append(d),d.one(&quot;webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend&quot;,function()&#123;d.removeClass(&quot;messageFadeInDown&quot;)&#125;),m.one(&quot;click&quot;,&quot;.c-message--close&quot;,function(e)&#123;o()&#125;),n.autoClose&amp;&amp;(i=setTimeout(function()&#123;o()&#125;,n.time))&#125;&#125;);添加弹窗css样式在themes/volantis/source/css目录中新建一个文件夹，文件夹名为：_xxxxxx。例如：_colsrch在themes/volantis/source/css/_colsrch目录中新建一个文件，文件名为：message.styl在themes/volantis/source/style.styl文件末尾中用import包含刚新建的文件夹，示例：@import &#39;_colsrch/*&#39;将下方代码复制至message.styl文件中点击查看message.styl代码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307$pointer = url(&quot;https://cdn.jsdelivr.net/gh/inkss/common@master/cursor/pointer.png&quot;).animated -webkit-animation-duration 1s animation-duration 1s -webkit-animation-fill-mode none animation-fill-mode none &amp;.infinite -webkit-animation-iteration-count infinite animation-iteration-count infinite &amp;.hinge -webkit-animation-duration 2s animation-duration 2s.animated.bounceIn,.animated.bounceOut -webkit-animation-duration .75s animation-duration .75s.animated.flipOutX,.animated.flipOutY -webkit-animation-duration .75s animation-duration .75s.slideInDown -webkit-animation-name slideInDown animation-name slideInDown.slideInLeft -webkit-animation-name slideInLeft animation-name slideInLeft.slideInRight -webkit-animation-name slideInRight animation-name slideInRight.slideInUp -webkit-animation-name slideInUp animation-name slideInUp.slideOutDown -webkit-animation-name slideOutDown animation-name slideOutDown.slideOutLeft -webkit-animation-name slideOutLeft animation-name slideOutLeft.slideOutRight -webkit-animation-name slideOutRight animation-name slideOutRight.slideOutUp -webkit-animation-name slideOutUp animation-name slideOutUp.c-message top 16px z-index 2000 width 300px padding 14px 26px 14px 13px box-sizing border-box position fixed right 16px background-color #fff transition opacity .3s, transform .3s, right .3s, top .4s overflow hidden box-shadow 0 2px 12px 0 rgba(0, 0, 0, .1) border-radius 8px border 1px solid #ebeef5 a border-bottom 1px solid rgba(131, 145, 165, .8) color inherit text-decoration none cursor $pointer,pointer !important word-break break-all &amp;:hover border-bottom 1px solid #5c6775 &amp;.messageFadeInDown -webkit-animation-duration .6s animation-duration .6s -webkit-animation-fill-mode both animation-fill-mode both -webkit-animation-name messageFadeInDown animation-name messageFadeInDown &amp;.messageFadeOutUp -webkit-animation-duration .6s animation-duration .6s -webkit-animation-fill-mode both animation-fill-mode both -webkit-animation-name messageFadeOutUp animation-name messageFadeOutUp.c-message__title font-weight 400 font-size 15px color #1f2d3d margin 0.c-message--icon position absolute color #fff height 25px width 25px font-size 25px.el-notification__content font-size 13px line-height 21px margin 10px 0 0 color #8391a5 text-align justify.el-notification__group margin-left 35px.c-message--close position absolute right 10px color #999 text-decoration none cursor $pointer,pointer font-size 25px top 0 line-height 34px display block height 20px font-weight 100 &amp;:hover color #666.c-message--success background: url(&quot;data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTE2NDE5MDE4MjQ0IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjUgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE3OTAiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQuMDIzNDM3NSIgaGVpZ2h0PSIyNCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNODEwLjAxNTg1Nzc4IDMzMy40MzYwMTc3OEw0ODAuMzkyNTMzMzMgNzI0LjkwNjY2NjY3Yy0xNC42NjkzNjg4OSAxNi41MDQ2MDQ0NS0zOS42ODIyNzU1NSAxOC42MzU2NjIyMi01Ni45MzQ0IDQuODA3MTExMTFMMjI0LjE5OTExMTExIDU0MS4wNTU0MzExMWMtMi4xNTM4MTMzMy0yLjA1MzY4ODg5LTMuOTE5NjQ0NDUtNC4zMjY5Njg4OS01LjQ2NzAyMjIyLTYuNzA0OTI0NDQtNC4xMTUzNDIyMi01Ljc1NjAxNzc4LTYuNjExNjI2NjctMTIuNzU1NjI2NjctNi42MTE2MjY2Ny0yMC4zOTM1Mjg4OSAwLTE5LjM5MDAwODg5IDE1LjcxMDQzNTU1LTM1LjExNjM3MzMzIDM1LjEyMzItMzUuMTE2MzczMzMgNi4wOTczNTExMSAwIDExLjc1MjEwNjY3IDEuNjg3MzI0NDUgMTYuNzQ1ODEzMzMgNC40MTc5OTExIDAuNDgyNDE3NzggMC4yNzE5Mjg4OSAxLjAzNDI0IDAuNDc1NTkxMTEgMS40ODU5Mzc3OCAwLjc1NDM0NjY3bDAuNzIzNjI2NjcgMC40NTA1NmMwLjM1NzI2MjIyIDAuMjMzMjQ0NDUgMC43MzE1OTExMSAwLjQ3NTU5MTExIDEuMDk3OTU1NTUgMC43MjQ3NjQ0NWwxNzUuNjM3NjE3NzggMTE0LjMyNjE4NjY2YzIuMzE3NjUzMzMgMS41MjQ2MjIyMiA1LjM1ODkzMzMzIDEuMjEyODcxMTEgNy4zMjUwMTMzNC0wLjcxNTY2MjIybDMxMy41NzA0MTc3OC0zMDguMTQyMDhjMTIuMjQyNDg4ODktMTIuMDI0MDM1NTUgMzEuODU3Nzc3NzgtMTIuMDMyIDQ0LjExMjc4MjIyLTAuMDMwNzJDODE5LjczODE2ODg5IDMwMi4xNTI4MTc3OCA4MjAuNjQwNDI2NjcgMzIwLjgyMDMzNzc4IDgxMC4wMTU4NTc3OCAzMzMuNDM2MDE3NzhNNTE0LjIxMDcwMjIyLTIuMTI5OTJjLTI4MS41MDg5Nzc3OCAwLTUwOS43MjQ0NDQ0NSAyMjguMjE1NDY2NjctNTA5LjcyNDQ0NDQ0IDUwOS43MjQ0NDQ0NXMyMjguMjE1NDY2NjcgNTA5LjcyNDQ0NDQ1IDUwOS43MjQ0NDQ0NCA1MDkuNzI0NDQ0NDRjMjgxLjUyNDkwNjY3IDAgNTA5LjcyNDQ0NDQ1LTIyOC4yMTU0NjY2NyA1MDkuNzI0NDQ0NDUtNTA5LjcyNDQ0NDQ0Uzc5NS43MzU2MDg4OS0yLjEyOTkyIDUxNC4yMTA3MDIyMi0yLjEyOTkyeiIgZmlsbD0iIzY3YzIzYSIgcC1pZD0iMTc5MSI+PC9wYXRoPjwvc3ZnPg==&quot;) no-repeat 0 50%.c-message--error background: url(&quot;data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTE2NDE3MjY0NzM4IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQ0NzMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTk4My44IDMxMi43Qzk1OCAyNTEuNyA5MjEgMTk3IDg3NCAxNTBjLTQ3LTQ3LTEwMS43LTg0LTE2Mi43LTEwOS43QzY0OC4yIDEzLjUgNTgxLjEgMCA1MTIgMFMzNzUuOCAxMy41IDMxMi43IDQwLjNDMjUxLjcgNjYgMTk3IDEwMyAxNTAgMTUwYy00NyA0Ny04NCAxMDEuNy0xMDkuNyAxNjIuN0MxMy41IDM3NS44IDAgNDQyLjkgMCA1MTJzMTMuNSAxMzYuMiA0MC4zIDE5OS4zQzY2IDc3Mi4zIDEwMyA4MjcgMTUwIDg3NGM0NyA0NyAxMDEuOCA4My45IDE2Mi43IDEwOS43IDYzLjEgMjYuNyAxMzAuMiA0MC4zIDE5OS4zIDQwLjNzMTM2LjItMTMuNSAxOTkuMy00MC4zQzc3Mi4zIDk1OCA4MjcgOTIxIDg3NCA4NzRjNDctNDcgODMuOS0xMDEuOCAxMDkuNy0xNjIuNyAyNi43LTYzLjEgNDAuMy0xMzAuMiA0MC4zLTE5OS4zcy0xMy41LTEzNi4yLTQwLjItMTk5LjN6TTY2NC43IDYxMy44YzE0LjEgMTQuMSAxNC4xIDM2LjkgMCA1MC45LTcgNy0xNi4yIDEwLjUtMjUuNSAxMC41cy0xOC40LTMuNS0yNS41LTEwLjVMNTEyIDU2Mi45IDQxMC4yIDY2NC43Yy03IDctMTYuMiAxMC41LTI1LjUgMTAuNXMtMTguNC0zLjUtMjUuNS0xMC41Yy0xNC4xLTE0LjEtMTQuMS0zNi45IDAtNTAuOUw0NjEuMSA1MTIgMzU5LjMgNDEwLjJjLTE0LjEtMTQuMS0xNC4xLTM2LjkgMC01MC45IDE0LjEtMTQuMSAzNi45LTE0LjEgNTAuOSAwTDUxMiA0NjEuMWwxMDEuOC0xMDEuOGMxNC4xLTE0LjEgMzYuOS0xNC4xIDUwLjkgMCAxNC4xIDE0LjEgMTQuMSAzNi45IDAgNTAuOUw1NjIuOSA1MTJsMTAxLjggMTAxLjh6IiBwLWlkPSI0NDc0IiBmaWxsPSIjZjY2YzZiIiBkYXRhLXNwbS1hbmNob3ItaWQ9ImEzMTN4Ljc3ODEwNjkuMC5pMiIgY2xhc3M9IiI+PC9wYXRoPjwvc3ZnPg==&quot;) no-repeat 0 50%.c-message--info background: url(&quot;data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTE2NDE5MTk2ODQ3IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjExMzciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjUiIGhlaWdodD0iMjUiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMiA3LjEzMDA3NDA4Yy0yNzguODQzNTQzNyAwLTUwNC44Njk5MjU5MiAyMjYuMDI2MzgyMjItNTA0Ljg2OTkyNTkyIDUwNC44Njk5MjU5MnMyMjYuMDI2MzgyMjIgNTA0Ljg2OTkyNTkyIDUwNC44Njk5MjU5MiA1MDQuODY5OTI1OTIgNTA0Ljg2OTkyNTkyLTIyNi4wMjYzODIyMiA1MDQuODY5OTI1OTItNTA0Ljg2OTkyNTkyLTIyNi4wMjYzODIyMi01MDQuODY5OTI1OTItNTA0Ljg2OTkyNTkyLTUwNC44Njk5MjU5MnpNNTkxLjE4NjkwNjA4IDY5Ny43NTMyOTY1OWMtMzguMDk4MjYxMzMgNTcuMjA1NjQ2MjItNzYuODU2NzM3MTggMTAxLjI4NDY3NDM3LTE0Mi4wNjI2Mjk5MyAxMDEuMjg0Njc0MzgtNDQuNTA2MjI1NzgtNy4yNjIzNTk3LTYyLjc5ODA1MTU1LTM5LjE0NjgzNzMzLTUzLjE2NjY4NjgyLTcxLjY1MjY5MzM0bDgzLjg4NjA4LTI3Ny44MzM4MDM4NWMyLjA1ODMxNTg1LTYuNzk2MzI1OTItMS4zNTkyNjUxOC0xNC4wNTg2ODU2My03LjU3MzA0ODg4LTE2LjI3MjM0NjA4LTYuMTc0OTQ3NTUtMi4xNzQ4MjQzLTE4LjI5MTgyNTc4IDUuODY0MjU4MzctMjguNzc3NTg1NzggMTcuMzU5NzU4MjJsLTUwLjcyMDAwOTQ5IDYxLjAxMTU4ODc1Yy0xLjM1OTI2NTE4LTEwLjI1Mjc0MzExLTAuMTU1MzQ0NTktMjcuMTg1MzAzNy0wLjE1NTM0NDU5LTM0LjAyMDQ2NTc4IDM4LjA5ODI2MTMzLTU3LjIwNTY0NjIyIDEwMC43MDIxMzIxNS0xMDIuMzMzMjUwMzcgMTQzLjE1MDA0MjA4LTEwMi4zMzMyNTAzNyA0MC4zNTA3NTc5MiA0LjExNjYzMTcgNTkuNDU4MTQyODIgMzYuMzg5NDcwODIgNTIuNDI4OCA3MS44NDY4NzQwN2wtODQuNDY4NjIyMjIgMjc5LjE5MzA2OTA0Yy0xLjEyNjI0ODMgNi4yOTE0NTYgMi4yMTM2NjA0NSAxMi42OTk0MjA0NSA3LjkyMjU3NDIyIDE0LjcxODkwMDE1IDYuMjEzNzgzNyAyLjE3NDgyNDMgMTkuMjYyNzI5NDgtNS44NjQyNTgzNyAyOS43ODczMjU2My0xNy4zNTk3NTgyM2w1MC42ODExNzMzMy02MC45NzI3NTI1OGMxLjM1OTI2NTE4IDEwLjI1Mjc0MzExLTAuOTMyMDY3NTUgMjguMTk1MDQzNTUtMC45MzIwNjc1NSAzNS4wMzAyMDU2MnpNNTc5Ljg4NTU4Njk3IDMzNC44NjgzMjgzYy0zMi4wNzg2NTgzNyAwLTU4LjA5ODg3NzYzLTIzLjM3OTM2MTE4LTU4LjA5ODg3NzY0LTU3Ljc4ODE4ODQ1czI2LjAyMDIxOTI1LTU3Ljc0OTM1MjMgNTguMDk4ODc3NjQtNTcuNzQ5MzUyMyA1OC4wOTg4Nzc2MyAyMy4zNzkzNjExOCA1OC4wOTg4Nzc2MiA1Ny43NDkzNTIzYzAgMzQuNDQ3NjYzNDEtMjYuMDIwMjE5MjUgNTcuNzg4MTg4NDUtNTguMDk4ODc3NjIgNTcuNzg4MTg4NDV6IiBmaWxsPSIjMjE5NmYzIiBwLWlkPSIxMTM4Ij48L3BhdGg+PC9zdmc+&quot;) no-repeat 0 50%.c-message--warning background: url(&quot;data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTE2NDE4MzA1NDMxIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjcxOTciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMiAxMDI0QzIyOS4yMzIgMTAyNCAwIDc5NC43NjggMCA1MTIgMCAyMjkuMjMyIDIyOS4yMzIgMCA1MTIgMGMyODIuNzY4IDAgNTEyIDIyOS4yMzIgNTEyIDUxMkMxMDI0IDc5NC43NjggNzk0Ljc2OCAxMDI0IDUxMiAxMDI0ek01NjAgMjQwYzAtMjYuNTEyLTIxLjQ4OC00OC00OC00OHMtNDggMjEuNDg4LTQ4IDQ4bDAgMzUyYzAgMjYuNTEyIDIxLjQ4OCA0OCA0OCA0OHM0OC0yMS40ODggNDgtNDhMNTYwIDI0MHpNNTEyIDczNmMtMjYuNTEyIDAtNDggMjEuNDg4LTQ4IDQ4czIxLjQ4OCA0OCA0OCA0OCA0OC0yMS40ODggNDgtNDhTNTM4LjUxMiA3MzYgNTEyIDczNnoiIHAtaWQ9IjcxOTgiIGZpbGw9IiNlNmEyM2MiPjwvcGF0aD48L3N2Zz4=&quot;) no-repeat 0 50% @-webkit-keyframes slideInDown 0% -webkit-transform: translate3d(0, -100%, 0) transform: translate3d(0, -100%, 0) visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @keyframes slideInDown 0% -webkit-transform: translate3d(0, -100%, 0) transform: translate3d(0, -100%, 0); visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @-webkit-keyframes slideInLeft 0% -webkit-transform: translate3d(-100%, 0, 0) transform: translate3d(-100%, 0, 0); visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @keyframes slideInLeft 0% -webkit-transform: translate3d(-100%, 0, 0) transform: translate3d(-100%, 0, 0); visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @-webkit-keyframes slideInRight 0% -webkit-transform: translate3d(100%, 0, 0) transform: translate3d(100%, 0, 0); visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @keyframes slideInRight 0% -webkit-transform: translate3d(100%, 0, 0) transform: translate3d(100%, 0, 0); visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @-webkit-keyframes slideInUp 0% -webkit-transform: translate3d(0, 100%, 0) transform: translate3d(0, 100%, 0); visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @keyframes slideInUp 0% -webkit-transform: translate3d(0, 100%, 0) transform: translate3d(0, 100%, 0); visibility: visible 100% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) @-webkit-keyframes slideOutDown 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(0, 100%, 0) transform: translate3d(0, 100%, 0) @keyframes slideOutDown 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(0, 100%, 0) transform: translate3d(0, 100%, 0)@-webkit-keyframes slideOutLeft 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(-100%, 0, 0) transform: translate3d(-100%, 0, 0) @keyframes slideOutLeft 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(-100%, 0, 0) transform: translate3d(-100%, 0, 0)@-webkit-keyframes slideOutRight 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(100%, 0, 0) transform: translate3d(100%, 0, 0)@keyframes slideOutRight 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(100%, 0, 0) transform: translate3d(120%, 0, 0)@-webkit-keyframes slideOutUp 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(0, -100%, 0) transform: translate3d(0, -100%, 0)@keyframes slideOutUp 0% -webkit-transform: translate3d(0, 0, 0) transform: translate3d(0, 0, 0) 100% visibility: hidden; -webkit-transform: translate3d(0, -100%, 0) transform: translate3d(0, -100%, 0)@keyframes messageFadeInDown 0% -webkit-transform: translate3d(0, -100%, 0) transform: translate3d(0, -100%, 0) 100% -webkit-transform: none; transform: none @keyframes messageFadeOutUp 0% opacity: 1 100% opacity: 0; -webkit-transform: translateY(-100%) transform: translateY(-100%)添加音乐通知修改aplayer删除themes/volantis/layout/third-party/aplayer/layout.ejs文件中的autoplay=&#39;&lt;%- aplayer.autoplay %&gt;&#39;在themes/volantis/layout/third-party/aplayer/script.ejs文件中的第4行下方添加APlayerController.autoPlay = &#39;&lt;%= theme.plugins.aplayer.autoplay %&gt;&#39;;修改aplayer.js打开themes/volantis/source/js/aplayer.js文件，将下方代码替换掉原aplayer.js代码点击查看aplayer.js代码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220//Cookie.jsfunction setCookie(e,n,i,o,t,r)&#123;if(&quot;undefined&quot;!=typeof is_remember)return!1;var u=new Date;u.setTime(u.getTime());var c=new Date(u.getTime()+i);document.cookie=e+&quot;=&quot;+escape(n)+(i?&quot;; expires=&quot;+c.toGMTString():&quot;&quot;)+(o?&quot;; path=&quot;+o:&quot;&quot;)+(t?&quot;; domain=&quot;+t:&quot;&quot;)+(r?&quot;; secure&quot;:&quot;&quot;)&#125;function getCookie(e)&#123;var n=document.cookie,i=e+&quot;=&quot;,o=n.indexOf(&quot;; &quot;+i);if(-1==o)&#123;if(0!=(o=n.indexOf(i)))return null&#125;else o+=2;var t=document.cookie.indexOf(&quot;;&quot;,o);return-1==t&amp;&amp;(t=n.length),unescape(n.substring(o+i.length,t))&#125;function deleteCookie(e,n,i)&#123;getCookie(e)&amp;&amp;(document.cookie=e+&quot;=&quot;+(n?&quot;; path=&quot;+n:&quot;&quot;)+(i?&quot;; domain=&quot;+i:&quot;&quot;)+&quot;; expires=Thu, 01-Jan-70 00:00:01 GMT&quot;)&#125;// 检查 Aplayer 对象状态function checkAPlayer() &#123;\tif (APlayerController.player == undefined) &#123; setAPlayerObject();\t&#125; else &#123; if (APlayerController.observer == undefined) &#123; setAPlayerObserver(); &#125;\t&#125;&#125;// 设置全局播放器所对应的 aplyer 对象function setAPlayerObject() &#123;\tif (APlayerController.id == undefined) return;\tdocument.querySelectorAll(&#x27;meting-js&#x27;).forEach((item, index) =&gt; &#123; if (item.meta.id == APlayerController.id) &#123; if (document.querySelectorAll(&#x27;meting-js&#x27;)[index].aplayer != undefined) &#123; APlayerController.player = document.querySelectorAll(&#x27;meting-js&#x27;)[index].aplayer; setAPlayerObserver(); &#125; &#125;\t&#125;)&#125;// 事件监听function setAPlayerObserver() &#123;\ttry &#123; APlayerController.player.on(&#x27;play&#x27;, function (e) &#123; updateAPlayerControllerStatus(); var index = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.index; var title = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.audios[index].title; var artist = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.audios[index].artist; $.message(&#123;title: &#x27;音乐通知&#x27;,message: &#x27;正在播放：&#x27; + title + &#x27; - &#x27; + artist,type: &#x27;success&#x27;&#125;); &#125;); APlayerController.player.on(&#x27;pause&#x27;, function (e) &#123; updateAPlayerControllerStatus(); var index = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.index; var title = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.audios[index].title; var artist = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.audios[index].artist; $.message(&#123;title: &#x27;音乐通知&#x27;,message: &#x27;暂停播放：&#x27; + title + &#x27; - &#x27; + artist,type: &#x27;success&#x27;&#125;); &#125;); APlayerController.player.on(&#x27;volumechange&#x27;, function (e) &#123; onUpdateAPlayerVolume(); &#125;); APlayerController.player.on(&#x27;loadstart&#x27;, function (e) &#123; // 跳到下一曲时更新标题 updateTitle(); &#125;); APlayerController.player.on(&#x27;error&#x27;, function (e) &#123; // 音乐加载失败 var index = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.index; var title = document.querySelector(&#x27;meting-js&#x27;).aplayer.list.audios[index].title; $.message(&#123;title: &quot;音乐通知&quot;,message: &quot;歌曲：&quot; + title + &quot;加载失败~&quot;,type: &#x27;warning&#x27;&#125;); &#125;); // 监听音量手势 APlayerController.volumeBarWrap = document.getElementsByClassName(&#x27;nav volume&#x27;)[0].children[0]; APlayerController.volumeBar = APlayerController.volumeBarWrap.children[0] function updateAPlayerVolume(e) &#123; let percentage = ((e.clientX || e.changedTouches[0].clientX) - APlayerController.volumeBar.getBoundingClientRect().left) / APlayerController.volumeBar.clientWidth; percentage = Math.max(percentage, 0); percentage = Math.min(percentage, 1); APlayerController.player.volume(percentage); &#125; const thumbMove = (e) =&gt; &#123; updateAPlayerVolume(e); &#125;; const thumbUp = (e) =&gt; &#123; APlayerController.volumeBarWrap.classList.remove(&#x27;aplayer-volume-bar-wrap-active&#x27;); document.removeEventListener(&#x27;mouseup&#x27;, thumbUp); document.removeEventListener(&#x27;mousemove&#x27;, thumbMove); updateAPlayerVolume(e); &#125;; APlayerController.volumeBarWrap.addEventListener(&#x27;mousedown&#x27;, () =&gt; &#123; APlayerController.volumeBarWrap.classList.add(&#x27;aplayer-volume-bar-wrap-active&#x27;); document.addEventListener(&#x27;mousemove&#x27;, thumbMove); document.addEventListener(&#x27;mouseup&#x27;, thumbUp); &#125;); // 设置完监听就立即更新一次 updateAPlayerControllerStatus(); onUpdateAPlayerVolume(); APlayerController.observer = true; console.log(&#x27;APlayerController ready!&#x27;);\t&#125; catch (error) &#123; delete APlayerController.observer;\t&#125;&#125;// 更新控制器状态function updateAPlayerControllerStatus() &#123;\ttry &#123; if (APlayerController.player.audio.paused) &#123; document.getElementsByClassName(&#x27;nav toggle&#x27;)[0].children[0].classList.add(&quot;fa-play&quot;); document.getElementsByClassName(&#x27;nav toggle&#x27;)[0].children[0].classList.remove(&quot;fa-pause&quot;); &#125; else &#123; document.getElementsByClassName(&#x27;nav toggle&#x27;)[0].children[0].classList.remove(&quot;fa-play&quot;); document.getElementsByClassName(&#x27;nav toggle&#x27;)[0].children[0].classList.add(&quot;fa-pause&quot;); &#125;\t&#125; catch (error) &#123; console.log(error);\t&#125;&#125;function onUpdateAPlayerVolume() &#123;\ttry &#123; APlayerController.volumeBar.children[0].style.width = APlayerController.player.audio.volume * 100 + &#x27;%&#x27;\t&#125; catch (error) &#123; console.log(error);\t&#125;&#125;// 播放/暂停function aplayerToggle() &#123;\tcheckAPlayer();\ttry &#123; APlayerController.player.toggle();\t&#125; catch (error) &#123; console.log(error);\t&#125;&#125;// 上一曲function aplayerBackward() &#123;\tcheckAPlayer();\ttry &#123; APlayerController.player.skipBack(); APlayerController.player.play();\t&#125; catch (error) &#123; console.log(error);\t&#125;&#125;// 下一曲function aplayerForward() &#123;\tcheckAPlayer();\ttry &#123; APlayerController.player.skipForward(); APlayerController.player.play();\t&#125; catch (error) &#123; console.log(error);\t&#125;&#125;// 调节音量function aplayerVolume(percent) &#123;\tcheckAPlayer();\ttry &#123; APlayerController.player.volume(percent);\t&#125; catch (error) &#123; console.log(error);\t&#125;&#125;// 更新音乐标题function updateTitle() &#123;\tcheckAPlayer();\ttry &#123; let index = APlayerController.player.list.index; let obj = APlayerController.player.list.audios[index]; let title = obj.title.length &gt; 15 ? &quot;&lt;span class=&#x27;text-animate&#x27;&gt;&quot; + obj.title + &quot;&lt;/span&gt;&quot; : obj.title; document.getElementsByClassName(&#x27;nav music-title&#x27;)[0].innerHTML = title;\t&#125; catch (error) &#123; console.log(error);\t&#125;&#125;// 自动播放音乐function autoPlayMusic() &#123;\tlet autoPlayMusic = getCookie(&#x27;autoPlayMusic&#x27;) == null ? true : false;\tsetTimeout(function () &#123; if ($(window).width() &gt; 500 &amp;&amp; autoPlayMusic &amp;&amp; APlayerController.autoPlay) &#123; let isplay = true; $.message(&#123;title: &quot;音乐通知&quot;,message: &quot;即将自动播放，点击&lt;a id=&#x27;stopMusic&#x27; class=&#x27;stopMusic fix-cursor-pointer&#x27;&gt;停止播放&lt;/a&gt;&quot;,type: &#x27;warning&#x27;&#125;); setTimeout(function () &#123; if (APlayerController.player == undefined) &#123; checkAPlayer(); &#125; if (isplay) &#123; aplayerToggle(); &#125; &#125;, 3500); $(&quot;#stopMusic&quot;).click(function () &#123; isplay = false; $(&quot;.c-message--close&quot;).click(); setTimeout(() =&gt; &#123; $.message(&#123;title: &quot;音乐通知&quot;,time: 999999,message: &quot;是否永久关闭音乐自动播放? &lt;a id=&#x27;dontPlayMusic&#x27; class=&#x27;stopMusic fix-cursor-pointer&#x27;&gt;&lt;b&gt;确认&lt;/b&gt;&lt;/a&gt;&quot;,type: &#x27;warning&#x27;&#125;); $(&quot;#dontPlayMusic&quot;).click(function () &#123; var expires = 7 * 24 * 60 * 60 * 1000; setCookie(&quot;autoPlayMusic&quot;, &#x27;false&#x27;, expires, &#x27;/&#x27;); $(&quot;.c-message--close&quot;).click(); setTimeout(() =&gt; &#123; $.message(&#123;title: &#x27;音乐通知&#x27;,time: 6000,message: &#x27;关闭成功，未来一周内将不再提醒~&#x27;,type: &#x27;success&#x27;&#125;); &#125;, 1000); &#125;); &#125;, 1000); &#125;) &#125;\t&#125;, 1500);&#125;(function ($) &#123;\t// 网速快\tcheckAPlayer();\t// 网速一般\tsetTimeout(function () &#123; checkAPlayer();\t&#125;, 3000);\t// 网速较慢\tsetTimeout(function () &#123; checkAPlayer();\t&#125;, 10000);\tautoPlayMusic();&#125;)(jQuery);添加复制通知打开themes/volantis/layout/third-party/clipboard/script.ejs文件在第 20 行1clipboard.off(&#x27;success&#x27;).on(&#x27;success&#x27;, function (e) &#123;下方添加下列代码12345$.message(&#123; title: &#x27;复制成功&#x27;, message: &quot;代码已复制，请遵守相关授权协议。&quot;, type: &#x27;success&#x27; &#125;); Volantis⁵ 配置方法Volantis⁵ 配置方法Volantis⁵ 已经内置封装弹窗js及样式，内置音乐通知添加复制通知打开themes/volantis/layout/third-party/clipboard/script.ejs文件在第 20 行1clipboard.off(&#x27;success&#x27;).on(&#x27;success&#x27;, function (e) &#123;下方添加下列代码12345volantis.message( &#x27;复制成功&#x27;, &#x27;代码已复制，请遵守相关授权协议。&#x27;, &#x27;success&#x27; );如图：函数原型12345volantis.message( &#x27;标题&#x27;, &#x27;内容&#x27;, &#x27;图标(success、error、info、warning)&#x27; ); 摸清楚原理后，可以自行添加其他行为的弹窗","tags":["Volantis"],"categories":["教程"]},{"title":"Hexo 添加说说页面","path":"/posts/a058b502/","content":"给自己的网站中添加说说页面，类似于qq空间一样 介绍🤞使用方便简略的html片段即可实现，且理论上支持任何框架或单独页面。 🔐安全性高直接通过leancloud的用户系统，保证只有站长可控发布权限。 🎁多功能输入多功能输入框，满足你的一切需求，并且支持点赞~ 快速使用若你的主题与本主题一样为Volantis，则可以直接使用Artitalk,直接前往最下面的在Volantis主题中使用查看教程。 开始使用Leancloud的相关准备 🌍 使用国际版的leancloud因为leancloud的国内节点需要接入备案域名作为安全域名。明显违背了适用性强的理念。这里推荐大家使用国际版，当然国内版的也可以，但是不要忘了填写severurl即可。 前往 leancloud 国际版，注册账号。 注册国际版Leancloud账号前往leancloud国际版，注册账号。绑定手机号和邮箱注册完成之后根据leancloud的提示绑定手机号和邮箱创建应用创建一个开发版应用，应用名称不限添加用户打开这个应用，选择存储→用户→添加用户填写用户名和密码（不推荐使用中文哦）记住这个密码，以后发表说说需要用这个用户名和密码登陆的配置头像回到结构化数据中，点击class下的_User，选择添加列。新建Class在结构化数据中创建class，命名为shuoshuo。注意一定要命名为shuoshuo哦Artitalk3.1.0版本后拥有了说说评论功能，请在结构化数据中再创建一个class，命名为atComment。设置权限设置_User class 权限将_User中的权限全部调为指定用户（这个用户就是你新建的那个用户），或者数据创建者，为了保证不被篡改用户数据已达到强制发布说说。设置shuoshuo class 权限点击class下的shuoshuo。找到 权限 ，在Class访问权限中将add_fields以及create权限设置为 指定用户 ，输入你刚才输入的用户名会自动匹配。为了安全起见，将delete和update也设置为跟它们一样的权限。设置权限的这几步一定要设置好，才可以保证不被“闲人”破解发布说说的验证 博客配置 新建一个page页面。 如果使用Valine评论系统，请关闭该页面的评论功能 将下方代码直接复制进去点击查看代码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132&lt;script type=&quot;text/javascript&quot; src=&quot;https://unpkg.com/artitalk&quot;&gt;&lt;/script&gt;&lt;div id=&quot;artitalk_main&quot;&gt;&lt;/div&gt;&lt;script&gt; new Artitalk(&#123; appId: &#x27;输入你的appid&#x27;, appKey: &#x27;输入你的appkey&#x27;, pageSize: 5, shuoPla: &#x27;想说点啥呢~&#x27;, atEmoji: &#123; //xaoxuu表情 weibo-doge: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/weibo/weibo-1.png&quot;, weibo-doge-tuosai: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/weibo/weibo-2.png&quot;, weibo-doge-shengqi: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/weibo/weibo-3.png&quot;, weibo-doge-tushe: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/weibo/weibo-4.png&quot;, aru-1: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-1.gif&quot;, aru-2: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-2.gif&quot;, aru-3: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-3.gif&quot;, aru-4: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-4.gif&quot;, aru-5: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-5.gif&quot;, aru-6: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-6.gif&quot;, aru-7: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-7.gif&quot;, aru-8: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-8.gif&quot;, aru-9: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-9.gif&quot;, aru-10: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-10.gif&quot;, aru-11: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-11.gif&quot;, aru-12: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-12.gif&quot;, aru-13: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-13.gif&quot;, aru-14: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-14.gif&quot;, aru-15: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-15.gif&quot;, aru-16: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-16.gif&quot;, aru-17: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-17.gif&quot;, aru-18: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-18.gif&quot;, aru-19: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-19.gif&quot;, aru-20: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-20.gif&quot;, aru-21: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-21.gif&quot;, aru-22: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-22.gif&quot;, aru-23: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-23.gif&quot;, aru-24: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-24.gif&quot;, aru-25: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-25.gif&quot;, aru-26: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-26.gif&quot;, aru-27: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-27.gif&quot;, aru-28: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-28.gif&quot;, aru-29: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-29.gif&quot;, aru-30: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-30.gif&quot;, aru-31: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-31.gif&quot;, aru-32: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-32.gif&quot;, aru-33: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-33.gif&quot;, aru-34: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-34.gif&quot;, aru-35: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-35.gif&quot;, aru-36: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-36.gif&quot;, aru-37: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-37.gif&quot;, aru-38: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-38.gif&quot;, aru-39: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-39.gif&quot;, aru-40: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-40.gif&quot;, aru-41: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-41.gif&quot;, aru-42: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-42.gif&quot;, aru-43: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-43.gif&quot;, aru-44: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-44.gif&quot;, aru-45: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-45.gif&quot;, aru-46: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-46.gif&quot;, aru-47: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-47.gif&quot;, aru-48: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-48.gif&quot;, aru-49: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-49.gif&quot;, aru-50: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-50.gif&quot;, aru-51: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-51.gif&quot;, aru-52: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-52.gif&quot;, aru-53: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-53.gif&quot;, aru-54: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-54.gif&quot;, aru-55: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-55.gif&quot;, aru-56: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-56.gif&quot;, aru-57: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-57.gif&quot;, aru-58: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-58.gif&quot;, aru-59: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-59.gif&quot;, aru-60: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-60.gif&quot;, aru-61: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-61.gif&quot;, aru-62: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-62.gif&quot;, aru-63: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-63.gif&quot;, aru-64: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-64.gif&quot;, aru-65: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-65.gif&quot;, aru-66: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-66.gif&quot;, aru-67: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-67.gif&quot;, aru-68: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-68.gif&quot;, aru-69: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-69.gif&quot;, aru-70: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-70.gif&quot;, aru-71: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-71.gif&quot;, aru-72: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-72.gif&quot;, aru-73: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-73.gif&quot;, aru-74: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-74.gif&quot;, aru-75: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-75.gif&quot;, aru-76: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-76.gif&quot;, aru-77: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-77.gif&quot;, aru-78: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-78.gif&quot;, aru-79: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-79.gif&quot;, aru-80: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-80.gif&quot;, aru-81: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-81.gif&quot;, aru-82: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-82.gif&quot;, aru-83: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-83.gif&quot;, aru-84: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-84.gif&quot;, aru-85: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-85.gif&quot;, aru-86: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-86.gif&quot;, aru-87: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-87.gif&quot;, aru-88: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-88.gif&quot;, aru-89: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-89.gif&quot;, aru-90: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-90.gif&quot;, aru-91: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-91.gif&quot;, aru-92: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-92.gif&quot;, aru-93: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-93.gif&quot;, aru-94: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-94.gif&quot;, aru-95: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-95.gif&quot;, aru-96: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-96.gif&quot;, aru-97: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-97.gif&quot;, aru-98: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-98.gif&quot;, aru-99: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-99.gif&quot;, aru-100: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-100.gif&quot;, aru-101: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-101.gif&quot;, aru-102: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-102.gif&quot;, aru-103: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-103.gif&quot;, aru-104: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-104.gif&quot;, aru-105: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-105.gif&quot;, aru-106: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-106.gif&quot;, aru-107: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-107.gif&quot;, aru-108: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-108.gif&quot;, aru-109: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-109.gif&quot;, aru-110: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-110.gif&quot;, aru-111: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-111.gif&quot;, aru-112: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-112.gif&quot;, aru-113: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-113.gif&quot;, aru-114: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-114.gif&quot;, aru-115: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-115.gif&quot;, aru-116: &quot;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/emoji/valine/aru/aru-116.gif&quot;, &#125;, &#125;)&lt;/script&gt; 修改里面的appId和appKey 执行hexo s测试下能不能正常使用吧 其他相关配置及说明请前往Artitalk文档查看哦~ 在Volantis主题中使用 请先完成Leancloud的相关准备 配置方法 新建一个page页面 修改layout为artitalk 在主题配置文件中配置相关项即可 在主题配置文件中的pjax.banUrl中添加该说说页面的链接 是不是炒鸡简单鸭 关于Volantis主题的使用及在Volantis使用Artitalk的疑问都可以来群里问哦~ QQ群：1146399464点击群号码查看加群方法。","tags":["Hexo"],"categories":["教程"]},{"title":"博客访问速度提升：最佳线路分流","path":"/posts/56951997/","content":"本文最后更新于2020年9月7日07点44分 准备在github和Coding分别建立一个用于托管网页的仓库，并在Hexo配置相应的参数让其可生成网页至github仓库和Coding仓库 若您的NS记录已改为Cloudflare等提供的DNS，请将其先改回来，避免无法进行线路分流 电信线路注册Vercel打开Vercel，使用Github账号登录 新建Project 填写对应的github仓库https地址，单击Continue 此处直接点击Continue 此处可以填写下PROJECT NAME，也可默认，毕竟后面要添加域名。然后点击Deploy，这个Project就建好了 添加域名解析记录在域名控制台添加域名解析记录，如下方所示。 记录类型 线路类型 记录值 A 默认 76.76.21.21 A 电信 76.76.21.21 添加对应的域名回到Vercel,点击之前创建的Project的settings打开设置，选择Domains 添加对应的域名即可。 联通线路先关闭解析到76.76.21.21的默认记录值， 在Coding对应的仓库新建静态网站，在域名控制台新建域名 默认 解析记录，记录值为Coding给出的地址。 添加完成后在Coding中添加对应的域名，等待Coding发放完成SSL证书。 接下来修改解析记录为： 记录类型 线路类型 记录值 A 联通 150.109.34.254 A 联通 119.28.218.218 移动线路 由于cloudflare的部分原因，不再推荐移动线路使用cloudflare 经测试，移动使用Coding速度最佳，但由于Coding偶尔宕机，介意偶尔宕机的童鞋可以将移动线路写至vercel：76.76.21.21 记录类型 线路类型 记录值 A 移动 150.109.34.254 A 移动 119.28.218.218 完成设置完成后您可以对比下下方所示的解析记录设置，看看是否是一样的： 记录类型 线路类型 记录值 A 默认 76.76.21.21 A 默认 119.28.218.218 A 电信 76.76.21.21 A 移动 150.109.34.254 A 移动 119.28.218.218 A 联通 150.109.34.254 A 联通 119.28.218.218 最后都看到这里了，不如留下个脚印代表你来过😊😊","tags":["Hexo"],"categories":["博客"]},{"title":"博客访问速度提升：使用hexo-offline-popup插件","path":"/posts/32c8ba21/","content":"加速博客的访问速度，并在博客有更新时弹窗提醒。 hexo-offline-popuphexo-offline-popup 是一个 hexo 插件， 它可加速你的Hexo网站的加载速度，以及网站内容更新弹窗提示。 食用方法安装在Hexo根目录打开Git-bash ，执行命令 1npm i hexo-offline-popup --save 配置在博客根目录的_config.yml中添加如下配置 1234567# offline config passed to sw-precache.service_worker: maximumFileSizeToCacheInBytes: 5242880 staticFileGlobs: - public/**/*.&#123;js,html,css,png,jpg,gif,svg,eot,ttf,woff,woff2&#125; stripPrefix: public verbose: false 如果你有CDN资源，例： 12- https://unpkg.com/artitalk- https://cdn.jsdelivr.net/npm/artitalk 将此配置添加到根目录的_config.yml 12345678910service_worker: runtimeCaching: - urlPattern: /* # 子路径（接受通配符） handler: cacheFirst options: origin: unpkg.com # 域名 - urlPattern: /npm/* # 子路径（接受通配符） handler: cacheFirst options: origin: cdn.jsdelivr.net # 域名 上传执行该代码激活并使用 1hexo cl &amp;&amp; hexo g -d 演示由于该弹窗仅在博客更新时会弹出，因此留了一个弹窗演示站 弹窗演示站：https://pfc049.coding-pages.com/ 卸载若不想再使用hexo-offline-popup，您需要将改插件卸载，然后安装hexo-offline-popup-uninstall FAQ安装后未弹窗该插件仅部署后生效，本地运行不生效 安装该插件后第一次打开网站不弹窗，后续更新将会弹窗 插件地址：hexo-offline-popup","tags":["Hexo"],"categories":["教程"]},{"title":"C语言神秘程序","path":"/posts/986192a4/","content":"不管你相信与否，它打印出歌曲 The Twelve Days of Christmas 的歌词，这个程序由 Cambridge Consultants Ltd. 的 Ian Phillipps 编写，用于参加国际C混乱代码大赛(International Obfuscated C Code Contest, 参见 http://reality.sgi.com/csp/ioccc )。 程序源码如下： 12345678910111213141516#include &lt;stdio.h&gt;main(t, _, a)char* a;&#123;return!0 &lt; t ? t &lt; 3 ? main(-79, -13, a + main(-87, 1 - _,main(-86, 0, a + 1) + a)) : 1, t &lt; _ ? main(t + 1, _, a) : 3, main(-94, -27 + t, a) &amp;&amp; t == 2 ? _ &lt; 13 ? main(2, _ + 1, &quot;%s %d %d &quot;) : 9 : 16 : t &lt; 0 ? t &lt; -72 ? main(_,t, &quot;@n&#x27;+,#&#x27;/*&#123;&#125;w+/w#cdnr/+,&#123;&#125;r/*de&#125;+,/*&#123;*+,/w&#123;%+,/w#q#n+,/#&#123;l,+,/n&#123;n+\\,/+#n+,/#;#q#n+,/+k#;*+,/&#x27;r :&#x27;d*&#x27;3,&#125;&#123;w+K w&#x27;K:&#x27;+&#125;e#&#x27;;dq#&#x27;l q#&#x27;+d&#x27;K#!/\\+k#;q#&#x27;r&#125;eKK#&#125;w&#x27;r&#125;eKK&#123;nl]&#x27;/#;#q#n&#x27;)&#123;)#&#125;w&#x27;)&#123;)&#123;nl]&#x27;/+#n&#x27;;d&#125;rw&#x27; i;# )&#123;n\\l]!/n&#123;n#&#x27;; r&#123;#w&#x27;r nc&#123;nl]&#x27;/#&#123;l,+&#x27;K &#123;rw&#x27; iK&#123;;[&#123;nl]&#x27;/w#q# &#x27;wk nw&#x27; iwk&#123;KK&#123;nl]!/w&#123;%&#x27;l##w#&#x27; i; :&#123;nl]&#x27;/*&#123;q#&#x27;ld;r&#x27;&#125;&#123;nlwb!/*de&#125;&#x27;c \\;;&#123;nl&#x27;-&#123;&#125;rw]&#x27;/+,&#125;##&#x27;*&#125;#nc,&#x27;,#nw]&#x27;/+kd&#x27;+e&#125;+;\\#&#x27;rdq#w! nr&#x27;/ &#x27;) &#125;+&#125;&#123;rl#&#x27;&#123;n&#x27; &#x27;)# &#125;&#x27;+&#125;##(!!/&quot;): t &lt; -50 ? _ == *a ? putchar(a[31]) : main(-65, _, a + 1) : main((*a == &#x27;/&#x27;) + t, _, a\\+ 1) : 0 &lt; t ? main(2, 2, &quot;%s&quot;) : *a == &#x27;/&#x27; || main(0, main(-61, *a, &quot;!ek;dc \\i@bK&#x27;(q)-[w]*%n+r3#l,&#123;&#125;: uwloca-O;m .vpbks,fxntdCeghiry&quot;), a + 1); &#125; 版权© 1988, Landon Curt Noll &amp; Larry Bassel。保留所有权利。 允许个人、教育或非盈利目的使用，但必须完整且不做修改地加上版权声明。其他用户若要使用本程序必须事先征得 Landon Curt Noll 和 Larry Bassel 的书面许可。","tags":["C"],"categories":["资料"]},{"title":"VS2019 及其他版本序列号及下载地址","path":"/posts/5fe8cd16/","content":"序列号Visual Studio 2019Enterprise(企业版) 1BF8Y8-GN2QH-T84XB-QVY3B-RC4DF Professional(专业版) 1NYWVH-HT4XC-R2WYW-9Y3CM-X4V3Y Visual Studio 2017企业版 1NJVYC-BMHX2-G77MM-4XJMR-6Q8QF 专业版 1KBJFW-NXHK6-W4WJM-CRMQB-G3CDH Visual Studio 2015企业版 1HM6NR-QXX7C-DFW2Y-8B82K-WTYJV 专业版 1HMGNV-WCYXV-X7G9W-YCX63-B98R2 Visual Studio 2013Ultimate 1BWG7X-J98B3-W34RT-33B3R-JVYW9 Premium 1FBJVC-3CMTX-D8DVP-RTQCT-92494 Professional 1XDM3T-W3T3V-MGJWK-8BFVD-GVPKY Team Foundation Server 2013 1MHG9J-HHHX9-WWPQP-D8T7H-7KCQG Visual Studio 2012ULT_chs 1RBCXF-CVBGR-382MK-DFHJ4-C69G8 VS各版本之间都是独立的，可以共存（因此在安装一个VS版本时无需卸载其他的版本） 下载地址Visual Studio 2019Visual Studio 2019：https://visualstudio.microsoft.com/zh-hans/downloads/ 下载旧版本Visual Studio 较旧版本下载：https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/ 建议下载Visual Studio 2019 Enterprise企业版，密钥在文章开头","tags":["Visual Studio"],"categories":["资料"]},{"title":"LeanCLoud定时唤醒失败的解决方案","path":"/posts/da1d5c8b/","content":"本篇来说一下最近常发生的因流控原因，通过定时任务唤醒体验版实例失败，建议升级至标准版云引擎实例避免休眠问题 前言相信大家最近都遇到下图这个问题吧 因流控原因，通过定时任务唤醒体验版实例失败，建议升级至标准版云引擎实例避免休眠 我们来看看官方说明 关于对体验版云引擎定时任务进行适当流控的说明 解决方法 完美解决方案：GitHub+Actions解决 解决方案作者：Dreamy.TZK原文章：https://www.antmoe.com/posts/ff6aef7b/ 鼠标放在右上角，选择 setting 点击Developer settings 打开Github，新建一个TOKEN。 设置名字为 GITHUB_TOKEN 勾选 repo、admin:repo_hook、workflow 等选项 点击 Generate token 即可。这个 TOKEN 主要使用来启动 actions 和上传结果用的。 查看GITHUB_TOKEN勾选示意图 TOKEN名字必须使用GITHUB_TOKEN 接下来 FORK 项目。地址：https://github.com/blogimg/WakeLeanCloud如果觉得好用可以给作者点个赞哦！ 成功 FORK 后，进入项目的设置。添加你的 leancloud 的后台地址（也就是评论管理的后台地址） 选择 Secrets，添加你的地址 其中 Name 的名字必须为SITE，Value 可以是多个地址，用英文半角逗号分隔。不要中文全角逗号！！！ 接下来对自己的项目点个 star 就能启动了，启动后请切换到 actions，看看是否运行成功。 成功 那么你就可以关掉了，默认是每天 8:00-24:00 时每 20 分钟运行一次。(GitHub 时间稍有延迟，大概时 2-5 分钟。） 失败请认真看本教程。 自己点自己的项目是手动执行一次 actions。是为了测试作者才设计这个功能的哦！并不是不点星这个 actions 就不会运行。 最后，如果觉得好用，请给作者点个 star 哦！ 若想得到更详细的解决方法，请前往该方案原文章：https://www.antmoe.com/posts/ff6aef7b/请多支持作者：Dreamy.TZK本解决方案转载自：小康博客：https://www.antmoe.com/ 事件记录 2020&#x2F;05&#x2F;12发现LeanCloud流控问题，通过重启实例得以解决。 2020&#x2F;05&#x2F;1313号早上7点唤醒实例时失败，重启实例不成功，修改唤醒时间和频率得以解决。 2020&#x2F;05&#x2F;14定时任务执行正常 2020&#x2F;05&#x2F;15自唤醒失败，重启实例+修改定时函数得以解决 2020&#x2F;05&#x2F;16解决方法更换为小康给出的方案","tags":["Hexo","LeanCloud"],"categories":["教程"]},{"title":"Coding持续集成实现Hexo自动化部署","path":"/posts/df35c5b1/","content":"1、新建访问令牌 &#x2F; Token首先需要新建一个访问令牌或者Github Token用来访问仓库代码。 若您的Hexo源码在Coding仓库托管，则需要新建一个Coding访问令牌。若您的Hexo源码在Github仓库托管，则需要新建一个Github Token。 具体方法如下。 新建访问令牌1.打开个人设置 2.选择访问令牌 3.新建令牌 输入描述，勾选第一个project:depot，并新建 复制令牌密码，该密码只会出现一次 新建Github Token1.打开Settings 2.选择Developer settings 3.选择Personal access tokens 4.单击Generate new token 5.勾选repo，填写token名字，然后单击最底下的Generate token 复制token密码，该密码只会出现一次 2、编写构建计划打开托管Hexo源码的仓库，复制好hexo源码的仓库https地址，后面要用。 新建构建计划打开持续集成中的构建计划，我们选择新建构建计划配置 选择右上角的自定义构建过程 填写构建名称，如您Hexo源码在Coding仓库，则选择代码源为Coding并选择对应的仓库。若您Hexo源码在Github仓库，则选择代码源为Github,并关联Git对应的仓库并选择。 单击底部的确定，进入配置详情。 选择文本编辑器 将下方代码复制进去，别忘了修改你自己的git地址。注意sh &#39;git clone https://账号:密码@地址 .&#39;中的.千万别删除 注意账号为 Coding 令牌用户名或者 Github 用户名，密码为新建的令牌或 Token 密码，地址为除去（https:&#x2F;&#x2F;）的仓库 https 地址 查看配置代码1234567891011121314151617181920212223pipeline &#123; agent any stages &#123; stage(&#x27;克隆项目&#x27;) &#123; steps &#123; sh &#x27;git clone https://账号:密码@地址 .&#x27; sh &#x27;ls -a&#x27; &#125; &#125; stage(&#x27;安装依赖&#x27;) &#123; steps &#123; sh &#x27;ls -a&#x27; sh &#x27;npm install -g hexo-cli&#x27; sh &#x27;npm install&#x27; &#125; &#125; stage(&#x27;构建发布&#x27;) &#123; steps &#123; sh &#x27;hexo clean &amp;&amp; hexo g &amp;&amp; hexo d&#x27; &#125; &#125; &#125;&#125; 然后我们点击右上角的保存 修改触发规则 勾选代码更新时自动执行 选择推送到分支时触发构建 单击保存修改 修改hexo根目录配置文件我们做完前面的还需要配置一下hexo根目录的配置文件中的git地址 1234deploy: type: git repo: https://账号:密码@地址 # 改这个repo里面的东西就可以 branch: master 上传做完这些我们push Hexo源码上去之后，就可以看到已经在构建了。 小提示1、如若想要构建速度加快，可以勾选npm缓存 2、Coding的持续集成每月重置构建时间，查看您团队构建时间的方法为：团队管理 → 服务订购 → 资源用量","tags":["Hexo","Coding"],"categories":["博客"]},{"title":"利用腾讯Cloud Studio云端使用hexo","path":"/posts/5f073d29/","content":"本篇介绍hexo如何在云端部署，它可以让您无需电脑，无需安装Git、nodejs等便可编写hexo文章并配置hexo。你在本地可以做的操作，云端都可以做到 前言大家都有过这样的经历吧，当你想要写文章或者想要配置hexo时，因为手上暂时没有电脑等原因，只能先咕在这，过了一段时间，可能我们都忘记了想要写什么了。 于是我发现了这个腾讯 Cloud Studio，并且它可以和Coding配合使用。这也就代表着将博客及源码放置在Coding仓库中，便可以利用Cloud Studio进行配置编写了。 配置 Cloud Studio首先你需要有一个Coding团队，具体方法在这里就不细说了，百度上有很多很好的教程。 1、打开Cloud Studio 我们会看到如下图所示的界面 2、配置SSH公钥打开Cloud Studio之后我们需要配置一下SSH公钥 我们点开设置 复制右边所示的SSH公钥，然后在Coding个人设置的SSH公钥中，添加密钥 记得勾选永久有效哦 创建工作空间配置好了Cloud Studio之后，我们便创建一个工作空间，默认会有一个演示工作空间，我们将其删除便可 需要输入工作空间名称，选择运行环境为预置环境下的Node.js,并输入hexo仓库SSH链接 选择Node.js可以让我们免去安装Node.js的过程，同时，Cloud Studio自带Git 创建完成后入下图所示 我们单击它打开该工作空间 我们等待其加载完后便可 注意：由于预置环境每天只允许使用4个小时，因此当您关闭工作空间时，记得点击停止运行 熟悉的页面布局映入眼帘 你没看错，这就是Cloud Studio工作空间内的样子，是不是想到了VS code 配置hexo还记得我写的多终端配置hexo吗，就是上一篇 没错，在这里我们也需要配置一番 安装hexo由于已经内置了Git和Node.js，因此我们只需要安装hexo即可 我们在终端输入以下命令，包括之后的一切命令都是在终端输入，这个貌似也不用我说 1npm install hexo-cli -g 接下来运行 1npm install 1npm install hexo-deployer-git --save 然后就可以按照平时的使用来了！ 后记 hexo常用指令可以前往我的上一篇文章中查看 不要忘了配置git的user.email和user.name哦12git config --global user.name &quot;username&quot;git config --global user.email &quot;user@email.com&quot; 既然都看到这里了，留下个评论代表你来过好不好","tags":["Hexo","Cloud Studio"],"categories":["教程"]},{"title":"Hexo常用指令","path":"/posts/a5b8d333/","content":"前言本篇仅介绍Hexo常用指令及Hexo博客搭建过程中使用的命令，需要完整教程请转至上篇Hexo博客搭建教程（全） Hexo搭建（仅命令）1、安装 安装GIt 安装Nodejs 检查配置是否成功 12node -vnpm -v 安装cnpm 1npm install -g cnpm --registry=https://registry.npm.taobao.org 检查cnpm是否安装成功 1cnpm -v 安装hexo 1cnpm install hexo-cli -g 2、初始化博客1hexo init 若在Install dependencies卡住则执行Ctrl + C结束命令 使用国内的镜像完成博客的初始化工作 1cnpm install 3、配置主题1git clone 复制的地址 themes/主题名字 修改配置文件 打开博客根目录的_config.yml文件，找到theme这一行，修改主题名字 1theme: next 4、上传 请先配置Git的SSH等信息 安装上传插件 1cnpm install hexo-deployer-git --save 上传 12hexo cleanhexo g -d 5、配置多终端工作先在仓库中新建一个hexo分支，并设置默认分支为hexo（这样每次同步的时候就不用指定分支，比较方便）。 克隆hexo分支 1git clone git@e.coding.net:eawakeofi/Colsrch/Colsrch.git 克隆到本地的Coding中，把除了.git 文件夹外的所有文件都删掉 把之前我们写的博客源文件全部复制过来，除了.deploy_git 这里应该说一句，复制过来的源文件应该有一个.gitignore，用来忽略一些不需要的文件，如果没有的话，自己新建一个，在里面写上如下，表示这些类型文件不需要git： 1234567.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/ 注意，如果你之前克隆过theme中的主题文件，那么应该把主题文件中的.git文件夹删掉，因为git不能嵌套上传，最好是显示隐藏文件，检查一下有没有，否则上传的时候会出错，导致你的主题文件无法上传，这样你的配置在别的电脑上就用不了了。 上传 123git add -Agit commit –m &quot;add branch&quot;git push 6、更换电脑使用一样的，跟之前的环境搭建一样， 安装git 设置git全局邮箱和用户名 设置ssh key 安装nodejs 安装hexo 但是已经不需要初始化了 直接在任意文件夹下， 1git clone git@……………… 然后进入克隆到的文件夹： 12npm installnpm install hexo-deployer-git --save 生成，部署： 12hexo ghexo d 然后就可以开始写你的新博客了 1hexo new &quot;文章名&quot; Tips: 不要忘了，每次写完最好都把源文件上传一下 123git add -Agit commit -m &quot;xxx&quot;git push 如果是在已经编辑过的电脑上，已经有clone文件夹了，那么，每次只要和远端同步一下就行了 1git pull 7、国内外分流具体方法请查看上篇，这里只给出_config.yml的修改 hexo官方文档是这样的： 123456deploy: type: git message: [message] repo: github: &lt;repository url&gt;,[branch] coding: &lt;repository url&gt;,[branch] 那么，我们只需要： 12345deploy: type: git repo: coding: git@e.coding.net:eawakeofi/Colsrch/Colsrch.git,master github: git@github.com:1332925715/1332925715.github.io.git,master 之后直接部署 12hexo ghexo d 常用命令 转自Hexo中文站 你无需全部记住，可以只记住下面几个常用的,具体作用可以点击对应命令跳转到其用法 命令 描述 init 初始化博客 new 新建文章 generate 生成静态文件 server 本地预览 deploy 部署博客 clean 清理缓存 init1hexo init [folder] 新建一个网站。如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站。 new1hexo new [layout] &lt;title&gt; 新建一篇文章。如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。如果标题包含空格的话，请使用引号括起来。 1hexo new &quot;post title with whitespace&quot; 参数 描述 -p, --path 自定义新文章的路径 -r, --replace 如果存在同名文章，将其替换 -s, --slug 文章的 Slug，作为新文章的文件名和发布后的 URL 默认情况下，Hexo 会使用文章的标题来决定文章文件的路径。对于独立页面来说，Hexo 会创建一个以标题为名字的目录，并在目录中放置一个 index.md 文件。你可以使用 --path 参数来覆盖上述行为、自行决定文件的目录： 1hexo new page --path about/me &quot;About me&quot; 以上命令会创建一个 source/about/me.md 文件，同时 Front Matter 中的 title 为 &quot;About me&quot; 注意！title 是必须指定的！如果你这么做并不能达到你的目的： 1hexo new page --path about/me 此时 Hexo 会创建 source/_posts/about/me.md，同时 me.md 的 Front Matter 中的 title 为 &quot;page&quot;。这是因为在上述命令中，hexo-cli 将 page 视为指定文章的标题、并采用默认的 layout。 创建草稿 1hexo new draft &quot;new draft&quot; 会在source&#x2F;_drafts目录下生成一个new-draft.md文件。但是这个文件不被显示在页面上，链接也访问不到。也就是说如果你想把某一篇文章移除显示，又不舍得删除，可以把它移动到_drafts目录之中。 12345//如果你希望强行预览草稿，更改配置文件：render_drafts: true//或者，如下方式启动server：hexo server --drafts 发布草稿的指令：publish generate1hexo generate 生成静态文件。 选项 描述 -d, --deploy 文件生成后立即部署网站 -w, --watch 监视文件变动 -b, --bail 生成过程中如果发生任何未处理的异常则抛出异常 -f, --force 强制重新生成文件 Hexo 引入了差分机制，如果 public 目录存在，那么 hexo g 只会重新生成改动的文件。 使用该参数的效果接近 hexo clean &amp;&amp; hexo generate -c, --concurrency 最大同时生成文件的数量，默认无限制 该命令可以简写为 1hexo g publish1hexo publish [layout] &lt;filename&gt; 发表草稿。 server1hexo server 启动服务器。默认情况下，访问网址为： http://localhost:4000/。 选项 描述 -p, --port 重设端口 -s, --static 只使用静态文件 -l, --log 启动日记记录，使用覆盖记录格式 deploy1hexo deploy 部署网站。 参数 描述 -g, --generate 部署之前预先生成静态文件 该命令可以简写为： 1hexo d render1hexo render &lt;file1&gt; [file2] ... 渲染文件。 参数 描述 -o, --output 设置输出路径 migrate1hexo migrate &lt;type&gt; 从其他博客系统 迁移内容。 clean1hexo clean 清除缓存文件 (db.json) 和已生成的静态文件 (public)。 在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。 list1hexo list &lt;type&gt; 列出网站资料。 version1hexo version 显示 Hexo 版本","tags":["Hexo"],"categories":["资料"]},{"title":"Hexo 博客搭建教程","path":"/posts/454fe87a/","content":"Hexo简介Hexo是一款基于Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Coding上，是搭建博客的首选框架。大家可以进入hexo官网进行详细查看，因为Hexo的创建者是台湾人，对中文的支持很友好，可以选择中文进行查看。 Hexo搭建步骤 安装Git 安装Node.js 安装cnpm 安装Hexo 生成SSH添加到Coding 将hexo部署到Coding 设置个人域名 发布文章 配置多终端工作 安装Git 下载地址：https://git-scm.com/ 点这里即可下载最新版本，如果你的下载速度比较慢可以选择下面的链接下载 https://www.lanzous.com/i9s7tib 运行安装包，选择合适的安装位置，然后点Next，后面的安装步骤全部只要点Next就行了，不需要我们多余配置。 安装Nodejs 下载地址： http://nodejs.cn/download/ 选择windows安装包.msi安装，下载完成后运行安装包，我们默认选择c盘，选择Add to PATH然后点Next继续就行了。 验证nodejs是否安装配置成功我们安装完Git后，在桌面右键会有Git Bash Here，我们直接点开 会出来一个终端，我们分别执行下面的命令 12node -vnpm -v 如果输出了版本号，那么证明配置成功，如果没有版本号，请重新安装nodejs（检查是否勾选Add to Path），或者手动为nodejs添加环境变量 安装cnpm在git bash里面执行下面的命令 1npm install -g cnpm --registry=https://registry.npm.taobao.org 检查cnpm是否安装成功 执行 1cnpm -v 如果输出版本号就是安装成功了 安装hexo在git bash执行下面的命令安装hexo 1cnpm install hexo-cli -g 初始化博客选择一个文件夹，然后右键打开git bash 例如：我在F盘新建了一个blog文件夹，就在blog文件夹下打开git bash 然后执行 1hexo init 到Install dependencies的时候你可能会卡住，这是大多数人基本都会遇到的 我们只需要在这里的时候结束命令，按Ctrl + c就可以结束命令 然后执行下面这个命令，就可以使用国内的镜像为你完成博客的初始化工作 1cnpm install 其他方法： git clone https://e.coding.net/huanhao/hexoblog.git cnpm install 然后继续下面的步骤 等待命令完成后，就完成了初始化，现在就可以预览我们的博客了 执行下面这个命令 注意：请不要结束命令或者关闭终端 1hexo s 然后会出来一段http开头的网址，我们复制下来然后在浏览器打开 就会出现这么一个页面了 如何下载主题方法1打开主题的项目地址后，点击Clone or download 然后复制https开头的地址 然后在你的博客文件夹下面打开git bash 执行： 1git clone 复制的地址 themes/主题名字 如图： 现在给你解释一下这个命令 git clone 代表克隆，后面接上一串下载地址，最后面的themes&#x2F;next是把文件夹下载到主题目录下，并把主题文件命名为next 方法2如果你觉得比较麻烦，还有第二个办法 打开主题项目地址，然后点击Clone or download，然后点击Download ZIP 这样可以下载主题文件压缩包，前提是你已经登入了github（没有账号的，请自己注册一下） 然后解压压缩包，把文件夹放在博客目录下的themes目录，并把文件夹命名为主题的名字 修改配置文件在博客的目录下有一个叫_config.yml的文件 将它打开 找到themes这一行，然后将主题名字修改为next 这样的话，主题就成功更换了 预览主题在博客目录打开git bash 执行 1hexo s 还是会出现一段浏览地址，我们在浏览器打开就行了 注意：有些主题你更换之后是暂时无法预览的，因为有的主题还需要安装它需要的依赖，这一般都会在主题的文档里面提到，只有安装它的依赖之后才可以正常预览 配置主题我们需要认识两个文件 站点配置文件 指的是博客根目录下的_config.yml 主题配置文件 指的是某个主题下的_config.yml 它们的名字都叫_config.yml但是你不能弄混淆 在我们看主题文档配置的时候，是必须要分清这两个概念的，不然会报错 coding https://coding.net/user 注册一个coding的账号，这里不做演示 然后按照图片新建一个项目 选择devops 填入相关信息，记得勾选**启用README.cd文件初始化项目** 然后完成创建 我们暂时不能直接上传，需要进行一些配置，如下： 接下来需要我们创建一个git秘钥 打开git bash（不要求在哪个目录） 执行： “这里面是你的邮箱” 不管出现什么信息，你只需要回车就可以了 1ssh-keygen -t rsa -C “your_email@youremail.com“ 然后执行 1cat ~/.ssh/id_rsa.pub 会输出你的秘钥，我们复制输出信息就行了 然后点击头像，打开个人设置–选择SSH公钥–新增公钥 然后将你复制的秘钥粘贴进去，记得勾选永久有效 然后打开git bash 执行： 1ssh -T git@git.coding.net 会提示你下面这个，输入yes回车就行了 1Are you sure you want to continue connecting (yes/no/[fingerprint])? 接下来打开你的项目选择SSH，然后复制右边git开头的地址 打开站点配置文件 修改deploy信息 1234deploy: type: git repo: 你复制的地址 branch: master 例如： 在博客根目录下打开git bash 分别执行下面的命令： yourname是你的名字 youremail是你的邮箱 12git config --global user.name &quot;yourname&quot;git config --global user.email &quot;youremail&quot; 然后安装上传插件 1cnpm install hexo-deployer-git --save 上传 以上的配置完成之后，就可以上传了 在博客根目录下打开git bash，执行下面的命令就可以上传了 1hexo g -d 然后打开项目，打开构建与部署–静态网站–立即发布静态网站 注意：coding需要实名认证，只需要你输入身份证号就可以了，不用担心泄露隐私，因为coding现在是腾讯的 我们只要填写网站名称就行了，然后保存 因为是刚构建的网站，所以要手动部署一下，以后上传就不需要手动部署 然后访问所给的地址，那个就是我们网站的地址了 之后每次修改完博客要上传的时候，只需执行上传命令 注：github部署不做说明 git分支进行多终端工作问题来了，如果你现在在自己的笔记本上写的博客，部署在了网站上，那么你在家里用台式机，或者实验室的台式机，发现你电脑里面没有博客的文件，或者要换电脑了，最后不知道怎么移动文件，怎么办？ 在这里我们就可以利用git的分支系统进行多终端工作了，这样每次打开不一样的电脑，只需要进行简单的配置和在Coding上把文件同步下来，就可以无缝操作了。 机制机制是这样的，由于hexo d上传部署到Coding的其实是hexo编译后的文件，是用来生成网页的，不包含源文件。 也就是上传的是在本地目录里自动生成的.deploy_git里面。 其他文件 ，包括我们写在source 里面的，和配置文件，主题文件，都没有上传到Coding 所以可以利用git的分支管理，将源文件上传到Coding的另一个分支即可。 上传分支首先，先在Coding上新建一个hexo分支 然后在这个仓库的分支设置中，选择默认分支为hexo分支（这样每次同步的时候就不用指定分支，比较方便）。 然后在本地的任意目录下，打开git bash， 1git clone git@e.coding.net:eawakeofi/Colsrch/Colsrch.git 将其克隆到本地，因为默认分支已经设成了hexo，所以clone时只clone了hexo。 接下来在克隆到本地的Coding中，把除了.git 文件夹外的所有文件都删掉 把之前我们写的博客源文件全部复制过来，除了.deploy_git。这里应该说一句，复制过来的源文件应该有一个.gitignore，用来忽略一些不需要的文件，如果没有的话，自己新建一个，在里面写上如下，表示这些类型文件不需要git： 1234567.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/ 注意，如果你之前克隆过theme中的主题文件，那么应该把主题文件中的.git文件夹删掉，因为git不能嵌套上传，最好是显示隐藏文件，检查一下有没有，否则上传的时候会出错，导致你的主题文件无法上传，这样你的配置在别的电脑上就用不了了。 而后 123git add -Agit commit –m &quot;add branch&quot;git push 这样就上传完了，可以去你的Coding上看一看hexo分支有没有上传上去，其中node_modules、public、db.json已经被忽略掉了，没有关系，不需要上传的，因为在别的电脑上需要重新输入命令安装 。 更换电脑操作一样的，跟之前的环境搭建一样， 一样的，跟之前的环境搭建一样， 安装git 设置git全局邮箱和用户名 设置ssh key 安装nodejs 安装hexo 但是已经不需要初始化了 直接在任意文件夹下， 1git clone git@……………… 然后进入克隆到的文件夹： 12npm installnpm install hexo-deployer-git --save 生成，部署： 12hexo ghexo d 然后就可以开始写你的新博客了 1hexo new &quot;文章名&quot; Tips: 不要忘了，每次写完最好都把源文件上传一下 123git add -Agit commit -m &quot;xxx&quot;git push 如果是在已经编辑过的电脑上，已经有clone文件夹了，那么，每次只要和远端同步一下就行了 1git pull Coding page和github page实现国内外分流1. 申请github账户，新建项目先申请一个账户，然后创建新的项目，这一步项目名称应该是随意的，如若是个人主页则为username.github.io。 2. 添加ssh key有关SSH的添加方法我在之前的文章已经说过了。Git常用命令 3. 修改_config.ymlhexo官方文档是这样的： 123456deploy: type: git message: [message] repo: github: &lt;repository url&gt;,[branch] coding: &lt;repository url&gt;,[branch] 那么，我们只需要： 12345deploy: type: git repo: coding: git@e.coding.net:eawakeofi/Colsrch/Colsrch.git,master github: git@github.com:1332925715/1332925715.github.io.git,master 4. 部署保存一下，直接 12hexo ghexo d 这样就可以在github的项目上看到你部署的文件了。 5. 开启github pages服务，绑定域名6. 腾讯云添加解析这个时候就可以把添加github的解析为境外了，Coding的解析为默认。 后记首先感谢Huanhao制作的hexo博客搭建教程及zjufangzh的多终端编辑和分流部署教程 Huanhao hexo博客搭建教程：https://mrhuanhao.cn/2020/03/23/hexobase/ zjufangzh原文链接：https://blog.csdn.net/sinat_37781304/article/details/82729029 Hexo中文站：https://www.hexocn.cn/ 本篇主要为初学者或无经验者整理编写，只需要指令的小伙伴可以看我下一篇文章","tags":["Hexo"],"categories":["教程"]},{"title":"MFC中CListCtrl的Report基本用法","path":"/posts/467014d7/","content":"其中我用到了ClistCtrl的Report报表形式，此处便记录下相关的代码，本篇为list的初始化和单击单元格实现输入的功能 第一步就是添加ClistCtrl控件，然后为其添加变量，此处我们将其变量设为 m_list_input。 ClistCtrl初始化此处仅为示例代码，具体根据自己的项目修改 12345678910111213141516CRect rect;// 获取输入（INPUT）列表视图控件的位置和大小 m_list_input.GetClientRect(&amp;rect);// 为列表视图控件添加全行选中和栅格风格 m_list_input.SetExtendedStyle(m_list_input.GetExtendedStyle() | LVS_EX_FULLROWSELECT | LVS_EX_GRIDLINES);// 为列表视图控件添加七列 m_list_input.InsertColumn(0, _T(&quot;序号&quot;), LVCFMT_CENTER, rect.Width() / 7, 0);m_list_input.InsertColumn(1, _T(&quot;姓名&quot;), LVCFMT_CENTER, rect.Width() / 7, 1);m_list_input.InsertColumn(2, _T(&quot;语文&quot;), LVCFMT_CENTER, rect.Width() / 7, 2);m_list_input.InsertColumn(3, _T(&quot;数学&quot;), LVCFMT_CENTER, rect.Width() / 7, 3);m_list_input.InsertColumn(4, _T(&quot;英语&quot;), LVCFMT_CENTER, rect.Width() / 7, 4);m_list_input.InsertColumn(5, _T(&quot;总分&quot;), LVCFMT_CENTER, rect.Width() / 7, 5);m_list_input.InsertColumn(6, _T(&quot;名次&quot;), LVCFMT_CENTER, rect.Width() / 7, 6); 单击单元格输入数据首先，我们需要添加一个Edit控件，并为其设置默认不显示属性。对其添加变量为” m_edit_input “ 接下来我们重写OnClick函数实现单击显示Edit控件并出现在相应的位置。代码如下 先在头文件中添加m_Row和m_Col，用来保存鼠标单击的行号和列标 12int m_Row = -1;int m_Col = -1; 在cpp文件OnClick中输入如下代码 1234567891011121314151617181920212223void CxxxxProDlg::OnClickListInput(NMHDR* pNMHDR, LRESULT* pResult)&#123;\tLPNMITEMACTIVATE pNMItemActivate = reinterpret_cast&lt;LPNMITEMACTIVATE&gt;(pNMHDR);\t// TODO: 在此添加控件通知处理程序代码\tCRect rc;\tCString strTemp;\tNM_LISTVIEW* pNMListView = (NM_LISTVIEW*)pNMHDR;\tm_Row = pNMListView-&gt;iItem;\tm_Col = pNMListView-&gt;iSubItem;\tif (m_Col != 0) // 选择子项 &#123; m_list_input.GetSubItemRect(m_Row, m_Col, LVIR_LABEL, rc); m_edit_input.SetParent(&amp;m_list_input); m_edit_input.MoveWindow(rc); m_edit_input.SetWindowTextW(m_list_input.GetItemText(m_Row, m_Col)); m_edit_input.ShowWindow(SW_SHOW); m_edit_input.SetFocus();//设置Edit焦点 m_edit_input.ShowCaret();//显示光标 m_edit_input.SetSel(0, -1);//全选 &#125;\t*pResult = 0;&#125; 最后我们输入完数据后需要将该数据存入对应的单元格中，代码如下 1234567void CxxxxProDlg::OnKillfocusEdit1()&#123;\t// TODO: 在此添加控件通知处理程序代码\tCString str;\tm_edit_input.GetWindowTextW(str);\tm_list_input.SetItemText(m_Row, m_Col, str);\tm_edit_input.ShowWindow(SW_HIDE);","tags":["C/C++","MFC","ClistCtrl"],"categories":["教程"]},{"title":"VC中如何从字符串中分离文件名与路径","path":"/posts/85033c71/","content":"之前写过一个音乐播放器程序，里面的播放列表、播放历史等控件需要分离路径，因此查过一些资料，这里为了避免以后需使用时遗忘，便将其记录下来 获取文件路径123CString strPath;int n=m_strOriFileName.ReverseFind(&#x27;\\\\&#x27;)+1;strPath=m_strOriFileName.Left(n); 获取文件名123CString strFile;int n=m_strUntFileName.GetLength()-m_strOriFileName.ReverseFind(&#x27;\\\\&#x27;)-1;strFile=m_strOriFileName.Right(n); 获取文件后缀名123CString strFileType;int n=m_strUntFileName.GetLength()-m_strOriFileName.ReverseFind(&#x27;.&#x27;)-1;strFileType=m_strOriFileName.Right(n);","tags":["C/C++","CString"],"categories":["教程"]},{"title":"Git 常用命令","path":"/posts/caff8000/","content":"配置使用Git的第一件事就是将其配置好，其中需要配置“用户名”、“邮箱”、“创建SSH” 首先在Git的安装目录中打开”git-bash.exe“ 1.配置用户名及邮箱 123git config --global user.name &quot;Your Name&quot;git config --global user.email &quot;your_email@example.com&quot; 为了记住用户名和邮箱我们还需要执行下面这个命令 1git config --global credential.helper store 2.创建SSH 在命令行中输入这个命令，之后一直回车即可 1ssh-keygen -t rsa 3.配置SSH 由于博主使用Coding的代码托管，因此讲一下Coding的SSH配置，其他请自行百度查找教程 首先打开“C:\\Users\\用户名\\.ssh”文件夹，右击“id_rsa.pub”文件，选择用记事本打开，复制里面的所有内容 然后登录Coding，在右上角头像处选择“个人设置”，然后选择“SSH公钥”。单击“新增公钥”，在“公钥内容”中粘贴刚刚复制的内容，”公钥名称“可不填，勾选”永久有效“，单击”添加“就可以。 至此，SSH就配置好了 新建代码库12345678# 在当前目录新建一个Git代码库git init# 新建一个目录，将其初始化为Git代码库git init [project-name]# 下载一个项目和它的整个代码历史git clone [url] 增加&#x2F;删除文件123456789101112131415161718192021# 添加指定文件到暂存区git add [file1] [file2] ...# 添加指定目录到暂存区，包括子目录git add [dir]# 添加当前目录的所有文件到暂存区git add .# 添加每个变化前，都会要求确认# 对于同一个文件的多处变化，可以实现分次提交git add -p# 删除工作区文件，并且将这次删除放入暂存区git rm [file1] [file2] ...# 停止追踪指定文件，但该文件会保留在工作区git rm --cached [file]# 改名文件，并且将这个改名放入暂存区git mv [file-original] [file-renamed] 我一般就是直接添加所有文件到暂存区,代码如下 1git add -A 代码提交123456789101112131415161718# 提交暂存区到仓库区（常用）git commit -m [message]# 提交暂存区的指定文件到仓库区git commit [file1] [file2] ... -m [message]# 提交工作区自上次commit之后的变化，直接到仓库区git commit -a# 提交时显示所有diff信息git commit -v# 使用一次新的commit，替代上一次提交# 如果代码没有任何新变化，则用来改写上一次commit的提交信息git commit --amend -m [message]# 重做上一次commit，并包括指定文件的新变化git commit --amend [file1] [file2] ... 分支12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849# 列出所有本地分支git branch# 列出所有远程分支git branch -r# 列出所有本地分支和远程分支git branch -a# 新建一个分支，但依然停留在当前分支git branch [branch-name]# 新建一个分支，并切换到该分支git checkout -b [branch]# 新建一个分支，指向指定commitgit branch [branch] [commit]# 新建一个分支，与指定的远程分支建立追踪关系git branch --track [branch] [remote-branch]# 切换到指定分支，并更新工作区git checkout [branch-name]# 切换到上一个分支git checkout -# 建立追踪关系，在现有分支与指定的远程分支之间git branch --set-upstream [branch] [remote-branch]# 合并指定分支到当前分支git merge [branch]# 选择一个commit，合并进当前分支git cherry-pick [commit]# 删除分支git branch -d [branch-name]# 删除远程分支git push origin --delete [branch-name]git branch -dr [remote/branch]# 本地存在一个分支，名称叫：develop_chen，但远程没有怎么办？git push origin develop_chen这样就在远程建立一个和本地一样的分支 git branch --set-upstream-to=origin/develop develop 本地分支和远程分支建立跟踪关系 标签1234567891011121314151617181920212223242526# 列出所有taggit tag# 新建一个tag在当前commitgit tag [tag]# 新建一个tag在指定commitgit tag [tag] [commit]# 删除本地taggit tag -d [tag]# 删除远程taggit push origin :refs/tags/[tagName]# 查看tag信息git show [tag]# 提交指定taggit push [remote] [tag]# 提交所有taggit push [remote] --tags# 新建一个分支，指向某个taggit checkout -b [branch] [tag] 查看信息12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061# 显示有变更的文件git status# 显示当前分支的版本历史git log# 显示commit历史，以及每次commit发生变更的文件git log --stat# 搜索提交历史，根据关键词git log -S [keyword]# 显示某个commit之后的所有变动，每个commit占据一行git log [tag] HEAD --pretty=format:%s# 显示某个commit之后的所有变动，其&quot;提交说明&quot;必须符合搜索条件git log [tag] HEAD --grep feature# 显示某个文件的版本历史，包括文件改名git log --follow [file]git whatchanged [file]# 显示指定文件相关的每一次diffgit log -p [file]# 显示过去5次提交git log -5 --pretty --oneline# 显示所有提交过的用户，按提交次数排序git shortlog -sn# 显示指定文件是什么人在什么时间修改过git blame [file]# 显示暂存区和工作区的代码差异git diff# 显示暂存区和上一个commit的差异git diff --cached [file]# 显示工作区与当前分支最新commit之间的差异git diff HEAD# 显示两次提交之间的差异git diff [first-branch]...[second-branch]# 显示今天你写了多少行代码git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;# 显示某次提交的元数据和内容变化git show [commit]# 显示某次提交发生变化的文件git show --name-only [commit]# 显示某次提交时，某个文件的内容git show [commit]:[filename]# 显示当前分支的最近几次提交git reflog# 从本地master拉取代码更新当前分支：branch 一般为mastergit rebase [branch] 远程同步123456789101112131415161718192021222324git remote update --更新远程仓储# 下载远程仓库的所有变动git fetch [remote]# 显示所有远程仓库git remote -v# 显示某个远程仓库的信息git remote show [remote]# 增加一个新的远程仓库，并命名git remote add [shortname] [url]# 取回远程仓库的变化，并与本地分支合并git pull [remote] [branch]# 上传本地指定分支到远程仓库git push [remote] [branch]# 强行推送当前分支到远程仓库，即使有冲突git push [remote] --force# 推送所有分支到远程仓库git push [remote] --all 撤销12345678910111213141516171819202122232425262728293031# 恢复暂存区的指定文件到工作区git checkout [file]# 恢复某个commit的指定文件到暂存区和工作区git checkout [commit] [file]# 恢复暂存区的所有文件到工作区git checkout .# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变git reset [file]# 重置暂存区与工作区，与上一次commit保持一致git reset --hard# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变git reset [commit]# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致git reset --hard [commit]# 重置当前HEAD为指定commit，但保持暂存区和工作区不变git reset --keep [commit]# 新建一个commit，用来撤销指定commit# 后者的所有变化都将被前者抵消，并且应用到当前分支git revert [commit]# 暂时将未提交的变化移除，稍后再移入git stashgit stash pop 其他（合并两个分支：Merge）1，将开发分支代码合入到master中 12345git checkout dev #切换到dev开发分支git pullgit checkout mastergit merge dev #合并dev分支到master上git push origin master #将代码推到master上 2，将master的代码同步更新到开发分支中 merge方法：保证主干提交线干净(可以安全回溯) 12345git checkout mastergit pullgit checkout devgit merge mastergit pull origin dev 12# 生成一个可供发布的压缩包git archive","tags":["Git"],"categories":["资料"]},{"title":"希望四年后 都会如我们所愿","path":"/posts/5b2f25a9/","content":"2020年真是多事之年，新冠爆发、20200202千年难遇、又刚好是4年才一次的二月、也是我高中毕业的一年、还是我即将成年的一年。 时间告诉我，无理取闹的年纪已经过了，该努力了。 希望四年后 都会如我们所愿","tags":["随笔"],"categories":["随笔"]},{"path":"/about/index.html","content":"首先欢迎您的到来！我主要在这个博客上分享一些有趣的程序、干货、技巧、开发教程、心情和学习记录等等！在我从一开始学习编程到现在，在不断的查资料中，我发现很多人都会把一些重要的东西记录下来，方便以后查看。在现在这个互联网时代，快速的学习过程，甚至没有时间打开笔墨，博客确实是个不错的选择。既能写一年后还能看得懂博客，又能把经验变成不可替代性可见的东西。在提高自己总结性能力的同时，也让博客成为了自己一份独特的名片。最后引用互联网上看到的一句话：“屌丝程序员的逆袭一般分两步：让自己变得牛逼，让别人知道你牛逼。” 欢迎你的来访，请遵守相关法律法规，文明灌水，谢谢合作"},{"title":"朋友文章","path":"/fcircle/index.html","content":""},{"title":"友链","path":"/friends/index.html","content":"大佬们亦往沧劫LHK's Blogxaoxuu杜老师说枋柚梓Uncle_drew陈YF的博客DataScienceYuexin's Blog同和故事汇 朋友们MianJubifapang纸鹿摸鱼处isYangs Blog 常来玩哦~述尔・Amore小康博客Geniucker小通小陈博客雪曦Jared h幼稚园园长辣个人の小窝Sakura` Blogsqinxs会飞的小弋Shiro's Shelfkali's blogXu’s BlogAzuSemisaMJ’s Blog城南以南花亦开Ray's Blog鹿苏子Pdone's BlogHeson卓越科技的Blog小巷神州部落格木子の博客子书承宇勤奋的思远W4J1e’s blogkelecn小冰博客DragonJayHeo无妄当自持BBing’s Blog超凡’s BlogYann景行Frytea’s Blogbmyjacks blogThrower的博客qsyykeImCaO’s Blog人家故里小城故事一人の境FFPY葱苓sama花有重开日，人无再少年Gahotx欢乐小王云晓晨CatchYunbooopsummerain0的个人博客心流七鳄の学习格星日语Lemon's BlogFgaoxingQYstudio小码博客lizilong的部落格满心Hrn顾梦Joker2Yue的个人博客 申请格式 前置要求 本站信息除去高亮行，其余皆可选~- title: # 网站名称 url: # 访问地址 avatar: # 头像地址 description: # 描述/一句话概述/格言 screenshot: # 网站截图/展示图 backgroundColor: # 头像背景颜色 textColor: # 文本颜色 keywords: - 标签一 - 标签二 Https 站点（大势所趋） 网站加载速度正常（待定…） 欢迎大佬！(/≧▽≦)/ 欢迎小姐姐！ ヾ(≧ ▽ ≦)ゝ 免费类域名站点请略过（潜在的不可靠性） 新创站点请略过（建议拥有一定的原创内容） 连接无法打开或存在质量低的内容时，将不会添加 不接受一切商业性或强烈侵入类广告之站点 不接受违反中华人民共和国法律法规之站点 名称：Colsrch链接：https://colsrch.cn头像：https://bu.dusays.com/2022/02/23/cb173cbdcc7c6.png描述：愿多年以后，我可以酌一杯清酒，烂醉如泥，梦中回到我们的曾经。"},{"path":"/history/index.html","content":"2020-12-27green checked, 添加自动夜间模式的功能2020-9-12green checked, 更换域名：https://colsrch.cngreen checked, 不再使用hexo-offline-popup进行页面缓存加速2020-9-6green checked, 使用新版Artitalkgreen checked, 更换友链页版式green checked, 移动线路改回Coding，放弃cloudflaregreen checked, 回归本心，关闭Aplayer2020-9green checked, 升级Volantis主题至`4.0`green checked, 不再使用busuanzi进行网站访问统计，改为Leancloud进行网站访问统计2020-7green checked, 使用`Artitalk`新增`主创说`页面green checked, 将`hexo-offline`插件更换为`hexo-offline-popup`插件，拥有了更新提示功能green checked, 全站使用`Pjax`，为解决适配问题，取消使用`hexo-lazyload-image`及`hexo-generator-random`插件green checked, 新增一套弹窗，并修改右键菜单2020-5-20 博客样式基本完成，使用如下插件green checked, 使用`hexo-offline`插件为博客提速：初次访问速度不变，后期切换页面及刷新页面速度越来越快green checked, 使用`hexo-lazyload-image`插件缓解页面图片多时，加载缓慢的问题green checked, 使用`hexo-generator-random`插件实现站内文章随机跳转功能green checked, 使用`hexo-wordcount`字数统计和阅读时长插件green checked, 使用百度统计green checked, 添加网站运行时间功能green checked, 使用`Valine`评论系统2020-4-10 博客小成green checked, 基于`Hexo`下的`Volantis`主题建设2020-2-11 博客初成green checked, 全站完全自写htmlgreen checked, 使用`Valine`评论系统"},{"path":"/homepage/index.html","content":""},{"path":"/messages/index.html","content":"🍭欢迎你的来访，请遵守相关法律法规，文明灌水，谢谢合作~"},{"title":"笔记","path":"/notes/index.html","content":""},{"title":"隐私政策","path":"/privacy/index.html","content":"隐私政策本站内目前涉及到浏览者隐私的只有一个地方，就是留言区（文章评论）。当你留言时，你的电子邮箱、Cookies信息和IPv4&#x2F;IPv6地址都会被记录。这些信息仅为了改进我们的网站质量和可能的交流沟通。我们不会将这些信息进行展示、出租或出售给任何人。但以下情况除外：只有透露您的个人资料，才能提供您所要求的产品和服务；我们需要听从法庭传票、法律命令或遵循法律程序；我们发现您违反了本站已发布的条款或声明。"},{"title":"数据通信","path":"/notes/data-communication/index.html","content":"TCP &#x2F; IPTCP/IP 封装 报文首部 源端口和目的端口，各占 2 个字节，分别写入源端口和目的端口； 序号，占 4 个字节, TCP 连接中传送的字节流中的每个字节都按顺序编号。例如，一段报文的序号字段值是 301 ，而携带的数据共有 100 字段，显然下一个报文段（如果还有的话）的数据序号应该从 401 开始； 确认号，占 4 个字节，是期望收到对方下一个报文的第一个数据字节的序号。例如, B 收到了 A 发送过来的报文，其序列号字段是 501，而数据长度是 200 字节，这表明 B 正确的收到了 A 发送的到序号 700 为止的数据。因此, B 期望收到 A 的下一个数据序号是 701，于是 B 在发送给 A 的确认报文段中把确认号置为 701 ； 数据偏移，占 4 位，它指出 TCP 报文的数据距离 TCP 报文段的起始处有多远； 保留，占 6 位，保留今后使用，但目前应都位 0； 紧急 URG，当 URG &#x3D; 1，表明紧急指针字段有效。告诉系统此报文段中有紧急数据； 确认 ACK，仅当 ACK &#x3D; 1时，确认号字段才有效。TCP 规定，在连接建立后所有报文的传输都必须把 ACK 置 1； 推送 PSH，当两个应用进程进行交互式通信时，有时在一端的应用进程希望在键入一个命令后立即就能收到对方的响应，这时候就将 PSH &#x3D; 1； 复位 RST，当 RST &#x3D; 1，表明 TCP 连接中出现严重差错，必须释放连接，然后再重新建立连接； 同步 SYN，在连接建立时用来同步序号。当 SYN &#x3D; 1, ACK &#x3D; 0，表明是连接请求报文，若同意连接，则响应报文中应该使 SYN &#x3D; 1, ACK &#x3D; 1； 终止 FIN，用来释放连接。当 FIN &#x3D; 1，表明此报文的发送方的数据已经发送完毕，并且要求释放； 窗口，占 2 字节，指的是通知接收方，发送本报文你需要有多大的空间来接受； 检验和，占 2 字节，校验首部和数据这两部分； 紧急指针，占 2 字节，指出本报文段中的紧急数据的字节数； 选项，长度可变，定义一些其他的可选的参数。 三次握手（建立连接） 最开始的时候客户端和服务器都是处于 CLOSED 状态。主动打开连接的为客户端，被动打开连接的是服务器。 TCP 服务器进程先创建传输控制块 TCB，时刻 LISTEN（监听）客户端进程的连接请求。 TCP 客户端进程也是先创建传输控制块 TCB，然后向服务器发出连接请求报文，这时报文首部中的标识号 SYN &#x3D; 1，同时选择一个初始序列号 seq &#x3D; x，此时，TCP 客户端进程进入 SYN-SENT（同步已发送状态），TCP 规定，SYN 报文段（ SYN = 1 的报文段）不能携带数据，但需要消耗一个序号。 client1SYN = 1 ACK = 0 seq = x TCP 服务器收到请求报文后，如果同意连接，则发出确认报文。确认报文中应该 ACK &#x3D; 1，SYN &#x3D; 1，确认号是 ack &#x3D; x + 1，同时也要为自己初始化一个序列号 seq &#x3D; y，此时，TCP 服务器进程进入了 SYN-RCVD（同步收到）状态。这个报文也不能携带数据，但是同样要消耗一个序号。 server1SYN = 1 ACK = 1 seq = y ack = x + 1 TCP 客户端进程收到确认后，还要向服务器给出确认。确认报文的 ACK &#x3D; 1, ack &#x3D; y + 1，自己的序列号 seq &#x3D; x + 1，此时，TCP 连接建立，客户端进程进入 ESTABLISHED（已建立连接）状态。TCP 规定，ACK 报文段可以携带数据，但是如果不携带数据则不消耗序号。 client1ACK = 1 ack = y + 1 当服务器收到客户端的确认后也进入 ESTABLISHED 状态，此后双方就可以开始通信了。 为什么TCP客户端最后还要发送一次确认呢？ 主要防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误。 如果使用的是两次握手建立连接，假设有这样一种场景，客户端发送了第一个请求连接并且没有丢失，只是因为在网络结点中滞留的时间太长了，由于 TCP 的客户端迟迟没有收到确认报文，以为服务器没有收到，此时重新向服务器发送这条报文，此后客户端和服务器经过两次握手完成连接，传输数据，然后关闭连接。此时此前滞留的那一次请求连接，网络通畅了到达了服务器，这个报文本该是失效的，但是，两次握手的机制将会让客户端和服务器再次建立连接，这将导致不必要的错误和资源的浪费。 如果采用的是三次握手，就算是那一次失效的报文传送过来了，服务端接受到了那条失效报文并且回复了确认报文，但是客户端不会再次发出确认。由于服务器收不到确认，就知道客户端并没有请求连接。 四次挥手（释放连接） 数据传输完毕后，双方都可释放连接。最开始的时候，客户端和服务器都是处于 ESTABLISHED 状态，然后客户端主动关闭，服务器被动关闭。 客户端进程发出连接释放报文，并且停止发送数据。释放数据报文首部, FIN &#x3D; 1，其序列号为 seq &#x3D; u（等于前面已经传送过来的数据的最后一个字节的序号加 1 ），此时，客户端进入 FIN-WAIT-1 （终止等待 1）状态。 TCP 规定, FIN 报文段即使不携带数据，也要消耗一个序号。 client1FIN = 1 seq = u 服务器收到连接释放报文，发出确认报文, ACK &#x3D; 1, ack &#x3D; u + 1，并且带上自己的序列号 seq &#x3D; v，此时，服务端就进入了 CLOSE-WAIT （关闭等待）状态。TCP 服务器通知高层的应用进程，客户端向服务器的方向就释放了，这时候处于半关闭状态，即客户端已经没有数据要发送了，但是服务器若发送数据，客户端依然要接受。这个状态还要持续一段时间，也就是整个 CLOSE-WAIT 状态持续的时间。 客户端收到服务器的确认请求后，此时，客户端就进入 FIN-WAIT-2 （终止等待2）状态，等待服务器发送连接释放报文（在这之前还需要接受服务器发送的最后的数据）。 server1ACK = 1 ack = u + 1 服务器将最后的数据发送完毕后，就向客户端发送连接释放报文, FIN &#x3D; 1, ack &#x3D; u + 1，由于在半关闭状态，服务器很可能又发送了一些数据，假定此时的序列号为 seq &#x3D; w，此时，服务器就进入了 LAST-ACK （最后确认）状态，等待客户端的确认。 server1FIN = 1 seq = w ack = u + 1 客户端收到服务器的连接释放报文后，必须发出确认, ACK &#x3D; 1, ack &#x3D; w + 1，而自己的序列号是 seq &#x3D; u + 1，此时，客户端就进入了 TIME-WAIT （时间等待）状态。注意此时 TCP 连接还没有释放，必须经过 2*MSL（最长报文段寿命）的时间后，当客户端撤销相应的 TCB 后，才进入 CLOSED 状态。 client1ACK = 1 ack = w + 1 服务器只要收到了客户端发出的确认，立即进入 CLOSED 状态。同样，撤销 TCB 后，就结束了这次的 TCP 连接。可以看到，服务器结束 TCP 连接的时间要比客户端早一些。 为什么客户端最后还要等待2MSL？ MSL（Maximum Segment Lifetime），TCP 允许不同的实现可以设置不同的 MSL 值。 第一，保证客户端发送的最后一个 ACK 报文能够到达服务器，因为这个 ACK 报文可能丢失，站在服务器的角度看来，我已经发送了 FIN + ACK 报文请求断开了，客户端还没有给我回应，应该是我发送的请求断开报文它没有收到，于是服务器又会重新发送一次，而客户端就能在这个 2 MSL 时间段内收到这个重传的报文，接着给出回应报文，并且会重启 2 MSL 计时器。 第二，防止类似与“三次握手”中提到了的“已经失效的连接请求报文段”出现在本连接中。客户端发送完最后一个确认报文后，在这个 2 MSL 时间中，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失。这样新的连接中不会出现旧连接的请求报文。 为什么建立连接是三次握手，关闭连接确是四次挥手呢？ 建立连接的时候， 服务器在 LISTEN 状态下，收到建立连接请求的 SYN 报文后，把 ACK 和 SYN 放在一个报文里发送给客户端。而关闭连接时，服务器收到对方的 FIN 报文时，仅仅表示对方不再发送数据了但是还能接收数据，而自己也未必全部数据都发送给对方了，所以己方可以立即关闭，也可以发送一些数据给对方后，再发送 FIN 报文给对方来表示同意现在关闭连接，因此，己方 ACK 和 FIN 一般都会分开发送，从而导致多了一次。 如果已经建立了连接，但是客户端突然出现故障了怎么办？ TCP 还设有一个保活计时器，显然，客户端如果出现故障，服务器不能一直等下去，白白浪费资源。服务器每收到一次客户端的请求后都会重新复位这个计时器，时间通常是设置为 2 小时，若两小时还没有收到客户端的任何数据，服务器就会发送一个探测报文段，以后每隔 75 秒发送一次。若一连发送 10 个探测报文仍然没反应，服务器就认为客户端出了故障，接着就关闭连接。"},{"title":"Graia API","path":"/notes/graia/index.html","content":"MessageChain1from graia.application.message.chain import MessageChain 用于处理消息的数据结构，包含一个有序列表 MessageChain.asDisplay()得到字符串形式的消息表示，返回字符串 MessageChain.root返回消息链列表 MessageChain.doc返回消息链的API文档说明 MessageChain.- Module返回消息链的模块绝对引用 MessageChain.create(&lt;list&#x2F;tuple&gt;)创建一个消息链结构，其中list&#x2F;tuple可以包含能够获取的类型元素，返回创建的消息链 MessageChain.isImmutable()判断消息链是否为可变，可变返回True，不可变返回False，默认接受的消息为不可变 MessageChain.asMutable()将消息链转换为可变的，返回可变的消息链 MessageChain.isSendable()检查消息链是否可以被正确发送，可发送返回True，不可发送返回False MessageChain.asSendable()将消息链转换为可以发送的新消息链，返回可能可以正确发送的消息链 MessageChain.has(T)消息链中是否存在某种消息元素，亦可使用T in MessageChain如果有则返回True否则返回False MessageChain.get(T)取出消息链中某种消息元素，以列表方式返回亦可以使用 MessageChain[T] MessageChain.join(*MessageChains)将多个MessageChain按顺序拼合“返回拼合后的消息链 MessageChain.plusWith(*MessageChain)方法将在现有的基础上将另一消息链拼接到原来实例的尾部, 并生成, 返回新的实例; 该方法不改变原有和传入的实例. MessageChain.plus(*MessageChain)方法将在现有的基础上将另一消息链拼接到原来实例的尾部; 该方法更改了原有的实例, 并要求 isMutable 方法返回 True 才可以执行. MessageChain.asSerializationString()将消息链对象转为以 “Mirai 码” 表示特殊对象的字符串返回字符串 MessageChain.fromSerializationString(string)将以 “Mirai 码” 表示特殊对象的字符串解析为消息链, 不过可能不完整返回消息链，不可变 MessageChain.asMerged()把相邻的Plain元素合并为一个Plain元素 MessageChain.subchain(slice)切片操作类似list切片方式返回切片后的 MessageChain MessageChain.exclude(T)将消息链中某种元素排除返回新的消息链 MessageChain.include(T)只保留消息链中某种元素返回新消息链 Elements1import graia.application.message.elements.internal as Elements Elements.Plain(string)实例化一个Plain元素，用于承载消息中的文字 Elements.Source表示消息在一个特定聊天区域内的唯一标识，收到的消息链中存在，只能够获取 Elements.Quote(id,groupID,senderID,targetID,origin)表示消息中回复功能，id:回复的消息在群内的唯一标识，通过Elements.Source得到groupID:群号senderID:原消息发送人targetID:群号oringin:发送的消息链 消息链中应该有：原消息链的**__root__列表, At(type&#x3D;‘At’,target&#x3D;qq号,display&#x3D;’@谁谁谁(群内id)’), Plain(’ ‘),Plain(“内容”)** Elements.At(id)表示@某人 Elements.AtAll()管理员有效，@全体成员 Elements.Face(id)表示一个表现，QQ内置的表情，id是表情的id Elements.ImageType(Enum)Friend &#x3D; “Friend”Group &#x3D; “Group”Temp &#x3D; “Temp”Unknown &#x3D; “Unknow”是一个类型的定义，不需要直接调用 Elements.Image()imageID:是一个16进制字符串url:链接位置pathtype:图片属于哪里(ImageType定义)关于Image的方法 Elements.FlashImage(Image)发送闪照，需要先通过Image方法创建一个Image对象亦可以直接 Image.asFlash() Elements.Xml(str)xml消息 Elements.Json(str) Elements.App(str)app消息 Elements.PokeMethods(Enum)是一个类型定义，不需要直接调用Poke &#x3D; “Poke”ShowLove &#x3D; “ShowLove”Like &#x3D;“Like”Heartbroken&#x3D;“Heartbroken”SixSixSix&#x3D;“SixSixSix”FangDaZhao &#x3D; “FangDaZhao” Elements.Poke(PokeMethods) Image1from graia.application.message.elements.internal import Image &gt; 返回到Elements Image.fromLoacalFile(filepath)从本地获取一张图片返回ShadowElement，包含了一个asFlash方法，可以作为闪照发送Image.fromLocalFile(path).asFlash() Image.fromUnsafePath(filepath)不检查路径安全性，让上层协议(mirai-api-http)处理图片文件 Image.fromUnsafeBytes()从不保证有效性的bytes中创建一个ShadowElement，并且上传，同样包含一个asFlash方法不推荐，安全性低 Image.fromNetworkAddress(url)从不保证有效性的网络位置中创建一个ShadowElement，在发送的时候从url获得图片并且上传可能抛出任何形式的网络错误可以使用asFlash方法 Image.fromUnsafeAddress(url)让上层协议(mirai-apii-http)处理图片文件 Image.asDisplay()返回字符串”[图片]” Image.http_to_bytes(url)从远端服务器获取图片的 bytes, 注意, 你无法获取并不包含 url 属性的本元素的 bytes Image.asFlash()设为闪照发送 Image.asSerializationString()将消息链对象转为以 “Mirai 码” 表示特殊对象的字符串 Massages定义了几种消息的类型 1import graia.application.event.messages as Messages FriendMessage好友对话事件 GroupMessage群对话事件 TempMessage临时对话事件 Friend模块定义了friend的几种属性,需要在监听中声明 1from graia.application.friend import Friend id:qq号 nickname:昵称 remark:好像访问不到？？ Group模块定义了group的一些属性,需要在监听中声明，例如： async def group_message_handler(app: GraiaMiraiApplication, message: MessageChain, group: Group,member: Member): 1import graia.application.group as Group Group.Group Group.Group.id:群id Group.Group.name:群名称 Group.Group.accountPerm:账号在群中的权限 Group.MemberPerm作为字典枚举，并不需要主动调用 .Member # 普通成员 .Administrator # 管理员 .Owner # 群主 Group.Member描述用户在群组中所具备的有关状态，包括所在群组，群中昵称，所具备的权限，唯一的ID .id:说话人的QQ号 .name:说话人的群昵称 .permission:说话人的权限等级 .group:上面的Group.Group所有内容 Group.GroupConfig描述群内各项功能的设置(使用方法不明) name announcement confessTalk allowMemberInvite autoApprove anonymousChat Group.MemberInfo描述群组成员的可修改状态，修改需要权限(使用方法不明) name specialTitle GraiaMiraiApplication类大多数的功能都被存在这个类中 1from graia.application import GraiaMiraiApplication .getVersion()返回mirai-api-http的版本 .getGroup(int)返回对应群号的群组信息(为空则None)id,name,accountPermprint(app.getGroup(&lt;Id&gt;)) .groupList()print(await app.groupList()) .getMember(Group int,member int)从已知群组和已知成员的id获得成员的信息 print(await app.getMember(&lt;ID&gt;,&lt;ID&gt;)) .memberList(Group int)从已知群组中获取群内所有成员的信息列表 .friendList()获取所有好友的信息列表 print(await app.friendList()) .getFriend(int)根据好友的id获取Friend实例 .sendFriendMessage(Friend,MessageChain[,quote])向好友发送消息,quote为回复信息断，可以选择 .sendGroupMessage(Group,MessageChain[,quote])向群组发送消息 .sendTempMessage(Group&#x2F;ID,Member&#x2F;ID,messageChain[,quote])向群内成员发起临时会话 .revokeMessage(target)撤回消息(2min以内) target (Union[Source, BotMessage, int]): 特定信息的 messageId, 可以是 Source 实例, BotMessage 实例或者是单纯的 int 整数. .messageFromId(source[Source, int])尝试从已知的 messageId 获取缓存中的消息 .muteAll(group)&amp;.unmuteAll(group)全员禁言 .mute(group,member,time)、unmute(group,membder)禁言指定群友 time指禁言时长 .kick(group,membder)群内踢掉某人 .quit(group)退群"},{"title":"KVM 学习笔记","path":"/notes/kvm/index.html","content":"KVM CentOS7 安装关闭防火墙, 修改selinux12systemctl stop firewalldsetenforce 0 检查 CPU 虚拟化1cat /proc/cpuinfo | egrep &#x27;vmx|svm&#x27; KVM 模块是否加载1lsmod | grep kvm 安装 KVM 并启动123yum install -y qemu-kvm libvirt virt-install net-toolssystemctl start libvirtdsystemctl enable libvirtd 创建虚拟硬盘12# qemu-img create -f [硬盘类型] 硬盘保存目录及文件名 [大小]qemu-img create -f qcow2 /opt/test.qcow2 50G 配置网络先暂时关闭 NetworkManager 1systemctl stop NetworkManager 配置 br0/etc/sysconfig/network-scripts/ifcfg-br0123456789TYPE=BridgeBOOTPROTO=staticNAME=br0DEVICE=br0ONBOOT=yesIPADDR=NETMASK=GATEWAY=DNS1=119.29.29.29 配置物理网卡/etc/sysconfig/network-scripts/ifcfg-enp2s0f01234567DEVICE=&quot;enp2s0f0&quot;NM_CONTROLLED=noONBOOT=&quot;yes&quot;TYPE=EthernetBOOTPROTO=noneBRIDGE=&quot;br0&quot;NAME=&quot;enp2s0f0&quot; 重启网卡：service network restart 创建虚拟机1virt-install --virt-type kvm --name [虚拟机名] --ram [内存大小 MB] --cdrom=[安装镜像位置] --disk path=[虚拟硬盘位置] --network bridge=br0 --graphics vnc,listen=0.0.0.0,port=[开放端口] --noautoconsole 其他命令123virsh list # 列出所有运行中的虚拟机virsh start # 启动一台虚拟机... 添加硬盘1234567virsh attach-disk [虚拟机名] --source [虚拟磁盘位置] --target [磁盘标识 vdb] --subdriver qcow2 --persistent# 查看磁盘virsh domblklist [虚拟机名]# 删除磁盘virsh detach-disk [虚拟机名] [磁盘标识] 创建虚拟网络创建配置文件12# vi /etc/libvirt/qemu/networks/[name].xmlvi /etc/libvirt/qemu/networks/hostonly1.xml 点击查看示例配置文件nat: 所有连接到该虚拟网络的虚拟的网络都会经过物理机器的网卡，并转换成物理网卡的地址。1234567891011&lt;network&gt; &lt;name&gt;default&lt;/name&gt; &lt;bridge name=&quot;virbr0&quot; /&gt; &lt;forward mode=&quot;nat&quot;/&gt; &lt;ip address=&quot;192.168.122.1&quot; netmask=&quot;255.255.255.0&quot;&gt; &lt;dhcp&gt; &lt;range start=&quot;192.168.122.2&quot; end=&quot;192.168.122.254&quot; /&gt; &lt;/dhcp&gt; &lt;/ip&gt; &lt;ip family=&quot;ipv6&quot; address=&quot;2001:db8:ca2:2::1&quot; prefix=&quot;64&quot; /&gt;&lt;/network&gt;route: 类似于 NAT，但是不使用NAT，而是使用routing table。123456789101112&lt;network&gt; &lt;name&gt;hostonly1&lt;/name&gt; &lt;uuid&gt;4f6b1b65-3991-4742-ad8e-6c08df197955&lt;/uuid&gt; # 这个自己生成 &lt;forward mode=&#x27;route&#x27;/&gt; &lt;bridge name=&#x27;hostonly1&#x27; stp=&#x27;on&#x27; delay=&#x27;0&#x27;/&gt; &lt;mac address=&#x27;52:54:00:09:57:fc&#x27;/&gt; &lt;ip address=&#x27;192.168.100.1&#x27; netmask=&#x27;255.255.255.0&#x27;&gt; &lt;dhcp&gt; &lt;range start=&#x27;192.168.100.2&#x27; end=&#x27;192.168.100.254&#x27;/&gt; &lt;/dhcp&gt; &lt;/ip&gt;&lt;/network&gt;bridge: 使用不受libvirt管理的bridge，比如主机上已有的bridge；open vswitch bridge；使用 macvtap's \"bridge\" 模式12345&lt;network&gt; &lt;name&gt;host-bridge&lt;/name&gt; &lt;forward mode=&quot;bridge&quot;/&gt; &lt;bridge name=&quot;br0&quot;/&gt;&lt;/network&gt;passthrough: 使用 a macvtap \"direct\" connection in \"passthrough\" mode 指定主机上的特定网卡用于虚拟网络1234567&lt;forward mode=&#x27;passthrough&#x27;&gt; &lt;interface dev=&#x27;eth10&#x27;/&gt; &lt;interface dev=&#x27;eth11&#x27;/&gt; &lt;interface dev=&#x27;eth12&#x27;/&gt; &lt;interface dev=&#x27;eth13&#x27;/&gt; &lt;interface dev=&#x27;eth14&#x27;/&gt;&lt;/forward&gt;hostdev: 直接分配主机上的网络设备。123456&lt;forward mode=&#x27;hostdev&#x27; managed=&#x27;yes&#x27;&gt; &lt;driver name=&#x27;vfio&#x27;/&gt; &lt;address type=&#x27;pci&#x27; domain=&#x27;0&#x27; bus=&#x27;4&#x27; slot=&#x27;0&#x27; function=&#x27;1&#x27;/&gt; &lt;address type=&#x27;pci&#x27; domain=&#x27;0&#x27; bus=&#x27;4&#x27; slot=&#x27;0&#x27; function=&#x27;2&#x27;/&gt; &lt;address type=&#x27;pci&#x27; domain=&#x27;0&#x27; bus=&#x27;4&#x27; slot=&#x27;0&#x27; function=&#x27;3&#x27;/&gt;&lt;/forward&gt; 启动网络并验证1234virsh net-define /etc/libvirt/qemu/networks/hostonly1.xml #定义 hostonly1 虚拟网络,用绝对路径定义virsh net-start hostonly1 # 启动 hostonly1 网络ip addr # 验证 hostonly1virsh net-autostart hostonly1 # 自动启动 hostonly1 virsh 虚拟网络管理命令1234567virsh net-list [–all] 列出虚拟网络virsh net-start 启动虚拟交换机virsh net-destroy 强制停止虚拟交换机virsh net-define 根据xml文件创建虚拟网络,要用绝对路径定义virsh net-undefine 删除一个虚拟网络设备virsh net-edit 修改虚拟机交换机配置virsh net-autostart 设置虚拟交换机开机自启动 增加虚拟网卡临时增加1virsh attach-interface controller --type bridge --source virbr0 永久增加123virsh attach-interface controller --type bridge --source virbr0 --configvirsh define /etc/libvirt/qemu/controller.xml# 然后启动虚拟机 在虚拟机里查看 永久增加需重启虚拟机后使用"},{"title":"MySQL 学习笔记","path":"/notes/mysql/index.html","content":"查询展示数据来源示例123# group_concat(col)select b_type, sum(b_number), group_concat(b_name) from book group by b_type; 视图基础语法12345CREATE [or replace] # 当已具有同名的视图时，将替换原视图VIEW 视图名 [(字段名列表)] # 视图中查询结果的字段名，如果省略，视图中字段名和 SELECT 子句中的字段名一致 AS SELECT 语句 [WITH CHECK OPTION]; # 指在更新视图上所进行的修改都要符合 SELECT 语句所指出的限制条件。 如果视图只来源于一张基表，则可以通过视图修改基表的数据。如果视图来源于多张基表，则一次只能修改一张基表的数据据，不能同时修改多张基表的数据。 当视图中存在以下情况，则插入、修改或删除数据操作将失败。 视图的字段中使用了聚合函数。 视图的字段中使用了数学表达式。 在定义视图的 select 语句中使用了 distinct、group by、order by、having 字句。"},{"title":"OpenStack 搭建笔记","path":"/notes/openstack/index.html","content":"RabbitMQ调优（修改最大连接数）系统级别修改/etc/sysctl.conf12345[root@controller ~]# vi /etc/sysctl.conffs.file-max=10240#在sysctl.conf文件的最下方添加一行fs.file-max=10240[root@controller ~]# sysctl -pfs.file-max = 10240 用户级别修改/etc/security/limits.conf1234[root@controller ~]# vi /etc/security/limits.confopenstack soft nofile 10240openstack hard nofile 10240#在配置文件的最后添加两行内容如上,修改完之后，保存退出 软件层面修改修改 RabbitMQ 配置 /usr/lib/systemd/system/rabbitmq-server.service1234567[root@controller ~]# vi /usr/lib/systemd/system/rabbitmq-server.service#在[Service]下添加一行参数如下：LimitNOFILE=10240#重启服务[root@controller ~]# systemctl daemon-reload[root@controller ~]# systemctl restart rabbitmq-server重启完毕后，查看RabbitMQ的最大连接数 1234567891011121314[root@controller ~]# rabbitmqctl statusStatus of node rabbit@controller[&#123;pid,4561&#125;, &#123;running_applications, .......... &#123;file_descriptors, [&#123;total_limit,10140&#125;, #可以看到当前的 RabbitMQ 已被修改 &#123;total_used,77&#125;, &#123;sockets_limit,9124&#125;, &#123;sockets_used,75&#125;]&#125;, &#123;processes,[&#123;limit,1048576&#125;,&#123;used,1150&#125;]&#125;, &#123;run_queue,0&#125;, &#123;uptime,40&#125;, &#123;kernel,&#123;net_ticktime,60&#125;&#125;] neutron网络服务安装完成后桥接外网卡的问题(2.2)网络服务安装完成后正常情况下br-ex是需要桥接eth1的，但是没有，需要自己配置。 controller: ifcfg-br-ex1234567891011DEVICE=br-exBOOTPROTO=staticONBOOT=yesTYPE=OVSBridgeDEVICETYPE=ovsUSERCTL=yesPEERDNS=yesIPV6INIT=noIPADDR=192.168.200.10NETMASK=255.255.255.0GATEWAY=192.168.200.1 controller: ifcfg-eth112345DEVICE=eth1TYPE=OVSPortONBOOT=yesDEVICETYPE=ovsOVS_BRIDGE=br-ex OpenStack 私有云基础运维命令(2.4)创建镜像(可在man手册中查到)1glance image-create --name &quot;CentOS7.5&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas/images/CentOS_7.5_x86_64_XD.qcow2 创建网络和子网创建外部网络1234## 虚拟机openstack network create ext-net --provider-physical-network provider --provider-network-type flat --external## 服务器openstack network create ext-net --provider-network-type vlan --provider-physical-network provider --provider-segment 1 --external 创建外部网络参数解读网络参数含义用法provider-network-type&lt;供应商网络类型&gt;provider-physical-network&lt;供应商物理设备名&gt;注：创建 Flat VLAN 网络类型时需要provider-segment&lt;段 ID&gt;注：创建 VLAN GRE VXLAN Geneve 网络类型时需要external外部网络注：参数的含义带有 &lt;&gt; 时，需要在此参数后面跟上对应的值。 创建内部网络12openstack network create int-net1 --provider-network-type vxlan --provider-segment 1openstack network create int-net2 --provider-network-type vxlan --provider-segment 2 创建子网12345## 创建外部网络子网openstack subnet create ext-subnet --network ext-net --gateway 192.168.200.1 --subnet-range 192.168.200.0/24 --allocation-pool start=192.168.200.100,end=192.168.200.200 --dhcp## 创建内部网络子网openstack subnet create int-subnet1 --network int-net1 --gateway 10.0.0.1 --subnet-range 10.0.0.0/24 --dhcpopenstack subnet create int-subnet2 --network int-net2 --gateway 10.0.1.1 --subnet-range 10.0.1.0/24 --dhcp 创建子网参数解读子网参数含义用法network&lt;网络名&gt;gateway&lt;网关地址&gt;subnet-range&lt;网络地址&gt;allocation-pool&lt;start&#x3D;始IP,end&#x3D;尾IP&gt;dhcp开启 DHCP 服务 创建路由123456## 创建路由openstack router create ext-router## 绑定外部网络openstack router set ext-router --external-gateway ext-net## 连接内部网络子网openstack router add subnet ext-router int-subnet1 创建安全组和规则123456789## 创建安全组，名称为 &quot;all&quot;openstack security group create all## 创建规则openstack security group rule create --ingress --protocol tcp allopenstack security group rule create --ingress --protocol udp allopenstack security group rule create --ingress --protocol icmp allopenstack security group rule create --egress --protocol tcp allopenstack security group rule create --egress --protocol udp allopenstack security group rule create --egress --protocol icmp all 注：创建安全组后请手动删除自带的两条规则，另外不要尝试删除默认安全组 default，否则会报错导致安全组功能不可用。 创建云主机 注：下面的一些命令固定了 IP 地址，可自行更换但需注意地址冲突问题。 创建实例类型 名称 ID 内存 硬盘 vCPU数 master 1 12G 100G 6个 node 2 8G 100G 4个 注：vCPU数根据实际情况而定，内存和硬盘是官方操作手册规定的，物理资源不够可适当缩减。 12nova flavor-create master 1 12288 100 6nova flavor-create node 2 8192 100 4 命令格式：nova flavor-create &lt;名字&gt; &lt; ID &gt; &lt;内存&gt; &lt;硬盘容量&gt; &lt; vcpu 数量&gt; 创建云主机12nova boot --image CentOS7.5 --flavor 1 --nic net-name=int-net1,v4-fixed-ip=10.0.0.3 --security-groups all --poll masternova boot --image CentOS7.5 --flavor 2 --nic net-name=int-net1,v4-fixed-ip=10.0.0.4 --security-groups all --poll node 创建云主机参数解读创建云主机参数含义用法image&lt;镜像名&gt;flavor&lt;实例类型ID&gt;nic&lt;net-name&#x3D;网络名&gt;,&lt;v4-fixed-ip&#x3D;固定IP地址&gt;security-groups&lt;安全组名&gt;poll显示进度 创建浮动IP地址12openstack floating ip create ext-net --floating-ip-address 192.168.200.104openstack floating ip create ext-net --floating-ip-address 192.168.200.105 绑定浮动IP地址至云主机12openstack server add floating ip master 192.168.200.104openstack server add floating ip node 192.168.200.105"},{"title":"Python 学习笔记","path":"/notes/python/index.html","content":"MySQL Data Access Object12345678910111213141516171819202122232425262728293031323334353637383940import pymysqlclass MysqlDao: def __enter__(self): try: self.db = pymysql.connect( host=MYSQL_HOST, user=MYSQL_USER, password=MYSQL_PWD, database=MYSQL_DB ) self.cur = self.db.cursor() return self except Exception as e: print(e) raise e def __exit__(self, exc_type, exc_val, exc_tb): self.cur.close() self.db.close() def query(self, sql, args=None): try: self.cur.execute(sql, args=args) query_result = self.cur.fetchall() except Exception as e: print(e) raise e return query_result def update(self, sql, args=None): try: effect_rows = self.cur.execute(sql, args=args) self.db.commit() except Exception as e: self.db.rollback() print(e) raise e return effect_rows"},{"title":"Windows","path":"/notes/windows/index.html","content":"Windows 排除端口供自己使用查看排除的端口带 * 的是手动添加的项目 1netsh int ipv4 show excludedport tcp|udp 添加排除端口1netsh int ipv4 add excludedportrange protocol=tcp startport=4000 numberofports=1 参数说明 protocol：协议，tcp 或 udp startport：起始端口 numberofports：排除端口数量 删除排除端口1netsh int ipv4 delete excludedportrange protocol=tcp startport=4000 numberofports=1 参数说明 protocol：协议，tcp 或 udp startport：起始端口 numberofports：排除端口数量 注意startport 和 numberofports 应当一致 WSL2 配置%USERPROFILE%/.wslconfig1234567891011[wsl2]memory=4GBprocessors=2networkingMode=mirroreddnsTunneling=falseautoProxy=truefirewall=false[experimental]autoMemoryReclaim=gradualsparseVhd=true 其中 dnsTunneling 设为 false 的目的是保持 wsl 的 DNS 与 Windows 一致，可以解决在 Tun Mixed 模式下，wsl 无法使用网络的问题。"}]